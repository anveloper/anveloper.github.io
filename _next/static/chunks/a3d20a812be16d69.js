(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15538,e=>{"use strict";var t={name:"mermaid",version:"11.12.2",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.1.1","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.13",dayjs:"^1.11.18",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.2.1",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.5","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.2",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.1.0",jison:"^0.4.18","js-base64":"^3.7.8",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.3",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.13","type-fest":"^4.35.0",typedoc:"^0.28.12","typedoc-plugin-markdown":"^4.8.1",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.6.4","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}};e.s(["package_default",()=>t])},63508,e=>{"use strict";var t=e.i(76809),r=e.i(65773),a=e.i(15538),s=e.i(64228),i=e.i(64699),n=e.i(2318);e.i(1972),e.i(99154),e.i(62485),e.i(79685),e.i(52545);var o=e.i(33055),d=e.i(44836),c=e.i(49114),l=e.i(58295),m=e.i(92380);e.i(91577);var p=e.i(92423),g="comm",u="rule",f="decl",y=Math.abs,_=String.fromCharCode;function h(e,t,r){return e.replace(t,r)}function w(e,t){return 0|e.charCodeAt(t)}function v(e,t,r){return e.slice(t,r)}function b(e){return e.length}function x(e,t){return t.push(e),e}var k=1,A=1,D=0,C=0,E=0,S="";function L(e,t,r,a,s,i,n,o){return{value:e,root:t,parent:r,type:a,props:s,children:i,line:k,column:A,length:n,return:"",siblings:o}}function T(){return E=C<D?w(S,C++):0,A++,10===E&&(A=1,k++),E}function j(){return w(S,C)}function M(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function z(e){var t,r;return(t=C-1,r=function e(t){for(;T();)switch(E){case t:return C;case 34:case 39:34!==t&&39!==t&&e(E);break;case 40:41===t&&e(t);break;case 92:T()}return C}(91===e?e+2:40===e?e+1:e),v(S,t,r)).trim()}function F(e,t,r,a,s,i,n,o,d,c,l,m){for(var p=s-1,g=0===s?i:[""],f=g.length,_=0,w=0,b=0;_<a;++_)for(var x=0,k=v(e,p+1,p=y(w=n[_])),A=e;x<f;++x)(A=(w>0?g[x]+" "+k:h(k,/&\f/g,g[x])).trim())&&(d[b++]=A);return L(e,t,r,0===s?u:o,d,c,l,m)}function $(e,t,r,a,s){return L(e,t,r,f,v(e,0,a),v(e,a+1,-1),a,s)}function R(e,t){for(var r="",a=0;a<e.length;a++)r+=t(e[a],a,e,t)||"";return r}function I(e,t,r,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case"@namespace":case f:return e.return=e.return||e.value;case g:return"";case"@keyframes":return e.return=e.value+"{"+R(e.children,a)+"}";case u:if(!b(e.value=e.props.join(",")))return""}return b(r=R(e.children,a))?e.return=e.value+"{"+r+"}":""}var O=e.i(1983),q=e.i(75949),P={id:"c4",detector:(0,l.__name)(e=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(e),"detector"),loader:(0,l.__name)(async()=>{let{diagram:t}=await e.A(81722);return{id:"c4",diagram:t}},"loader")},V="flowchart",B=(0,l.__name)((e,t)=>t?.flowchart?.defaultRenderer!=="dagre-wrapper"&&t?.flowchart?.defaultRenderer!=="elk"&&/^\s*graph/.test(e),"detector"),H=(0,l.__name)(async()=>{let{diagram:t}=await e.A(34841);return{id:V,diagram:t}},"loader"),N={id:V,detector:B,loader:H},G="flowchart-v2",U=(0,l.__name)((e,t)=>t?.flowchart?.defaultRenderer!=="dagre-d3"&&(t?.flowchart?.defaultRenderer==="elk"&&(t.layout="elk"),!!/^\s*graph/.test(e)&&t?.flowchart?.defaultRenderer==="dagre-wrapper"||/^\s*flowchart/.test(e)),"detector"),K=(0,l.__name)(async()=>{let{diagram:t}=await e.A(34841);return{id:G,diagram:t}},"loader"),W={id:G,detector:U,loader:K},Y={id:"er",detector:(0,l.__name)(e=>/^\s*erDiagram/.test(e),"detector"),loader:(0,l.__name)(async()=>{let{diagram:t}=await e.A(64508);return{id:"er",diagram:t}},"loader")},J="gitGraph",Q=(0,l.__name)(e=>/^\s*gitGraph/.test(e),"detector"),Z=(0,l.__name)(async()=>{let{diagram:t}=await e.A(80662);return{id:J,diagram:t}},"loader"),X={id:J,detector:Q,loader:Z},ee="gantt",et=(0,l.__name)(e=>/^\s*gantt/.test(e),"detector"),er=(0,l.__name)(async()=>{let{diagram:t}=await e.A(54979);return{id:ee,diagram:t}},"loader"),ea={id:ee,detector:et,loader:er},es="info",ei=(0,l.__name)(e=>/^\s*info/.test(e),"detector"),en=(0,l.__name)(async()=>{let{diagram:t}=await e.A(75586);return{id:es,diagram:t}},"loader"),eo={id:es,detector:ei,loader:en},ed={id:"pie",detector:(0,l.__name)(e=>/^\s*pie/.test(e),"detector"),loader:(0,l.__name)(async()=>{let{diagram:t}=await e.A(82917);return{id:"pie",diagram:t}},"loader")},ec="quadrantChart",el=(0,l.__name)(e=>/^\s*quadrantChart/.test(e),"detector"),em=(0,l.__name)(async()=>{let{diagram:t}=await e.A(26108);return{id:ec,diagram:t}},"loader"),ep={id:ec,detector:el,loader:em},eg="xychart",eu=(0,l.__name)(e=>/^\s*xychart(-beta)?/.test(e),"detector"),ef=(0,l.__name)(async()=>{let{diagram:t}=await e.A(17515);return{id:eg,diagram:t}},"loader"),ey={id:eg,detector:eu,loader:ef},e_="requirement",eh=(0,l.__name)(e=>/^\s*requirement(Diagram)?/.test(e),"detector"),ew=(0,l.__name)(async()=>{let{diagram:t}=await e.A(27091);return{id:e_,diagram:t}},"loader"),ev={id:e_,detector:eh,loader:ew},eb="sequence",ex=(0,l.__name)(e=>/^\s*sequenceDiagram/.test(e),"detector"),ek=(0,l.__name)(async()=>{let{diagram:t}=await e.A(80871);return{id:eb,diagram:t}},"loader"),eA={id:eb,detector:ex,loader:ek},eD="class",eC=(0,l.__name)((e,t)=>t?.class?.defaultRenderer!=="dagre-wrapper"&&/^\s*classDiagram/.test(e),"detector"),eE=(0,l.__name)(async()=>{let{diagram:t}=await e.A(72384);return{id:eD,diagram:t}},"loader"),eS={id:eD,detector:eC,loader:eE},eL="classDiagram",eT=(0,l.__name)((e,t)=>!!/^\s*classDiagram/.test(e)&&t?.class?.defaultRenderer==="dagre-wrapper"||/^\s*classDiagram-v2/.test(e),"detector"),ej=(0,l.__name)(async()=>{let{diagram:t}=await e.A(30011);return{id:eL,diagram:t}},"loader"),eM={id:eL,detector:eT,loader:ej},ez="state",eF=(0,l.__name)((e,t)=>t?.state?.defaultRenderer!=="dagre-wrapper"&&/^\s*stateDiagram/.test(e),"detector"),e$=(0,l.__name)(async()=>{let{diagram:t}=await e.A(70577);return{id:ez,diagram:t}},"loader"),eR={id:ez,detector:eF,loader:e$},eI="stateDiagram",eO=(0,l.__name)((e,t)=>!!(/^\s*stateDiagram-v2/.test(e)||/^\s*stateDiagram/.test(e)&&t?.state?.defaultRenderer==="dagre-wrapper"),"detector"),eq=(0,l.__name)(async()=>{let{diagram:t}=await e.A(36462);return{id:eI,diagram:t}},"loader"),eP={id:eI,detector:eO,loader:eq},eV="journey",eB=(0,l.__name)(e=>/^\s*journey/.test(e),"detector"),eH=(0,l.__name)(async()=>{let{diagram:t}=await e.A(9868);return{id:eV,diagram:t}},"loader"),eN={id:eV,detector:eB,loader:eH},eG={draw:(0,l.__name)((e,t,r)=>{l.log.debug("rendering svg for syntax error\n");let a=(0,s.selectSvgElement)(t),i=a.append("g");a.attr("viewBox","0 0 2412 512"),(0,c.configureSvgSize)(a,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${r}`)},"draw")},eU={db:{},renderer:eG,parser:{parse:(0,l.__name)(()=>{},"parse")}},eK="flowchart-elk",eW=(0,l.__name)((e,t={})=>!!(/^\s*flowchart-elk/.test(e)||/^\s*(flowchart|graph)/.test(e)&&t?.flowchart?.defaultRenderer==="elk")&&(t.layout="elk",!0),"detector"),eY=(0,l.__name)(async()=>{let{diagram:t}=await e.A(34841);return{id:eK,diagram:t}},"loader"),eJ={id:eK,detector:eW,loader:eY},eQ="timeline",eZ=(0,l.__name)(e=>/^\s*timeline/.test(e),"detector"),eX=(0,l.__name)(async()=>{let{diagram:t}=await e.A(7344);return{id:eQ,diagram:t}},"loader"),e0={id:eQ,detector:eZ,loader:eX},e1="mindmap",e2=(0,l.__name)(e=>/^\s*mindmap/.test(e),"detector"),e6=(0,l.__name)(async()=>{let{diagram:t}=await e.A(22096);return{id:e1,diagram:t}},"loader"),e3={id:e1,detector:e2,loader:e6},e4="kanban",e5=(0,l.__name)(e=>/^\s*kanban/.test(e),"detector"),e8=(0,l.__name)(async()=>{let{diagram:t}=await e.A(5321);return{id:e4,diagram:t}},"loader"),e7={id:e4,detector:e5,loader:e8},e9="sankey",te=(0,l.__name)(e=>/^\s*sankey(-beta)?/.test(e),"detector"),tt=(0,l.__name)(async()=>{let{diagram:t}=await e.A(63673);return{id:e9,diagram:t}},"loader"),tr={id:e9,detector:te,loader:tt},ta="packet",ts=(0,l.__name)(e=>/^\s*packet(-beta)?/.test(e),"detector"),ti=(0,l.__name)(async()=>{let{diagram:t}=await e.A(16451);return{id:ta,diagram:t}},"loader"),tn={id:ta,detector:ts,loader:ti},to="radar",td=(0,l.__name)(e=>/^\s*radar-beta/.test(e),"detector"),tc=(0,l.__name)(async()=>{let{diagram:t}=await e.A(64847);return{id:to,diagram:t}},"loader"),tl={id:to,detector:td,loader:tc},tm="block",tp=(0,l.__name)(e=>/^\s*block(-beta)?/.test(e),"detector"),tg=(0,l.__name)(async()=>{let{diagram:t}=await e.A(83770);return{id:tm,diagram:t}},"loader"),tu={id:tm,detector:tp,loader:tg},tf="architecture",ty=(0,l.__name)(e=>/^\s*architecture/.test(e),"detector"),t_=(0,l.__name)(async()=>{let{diagram:t}=await e.A(72042);return{id:tf,diagram:t}},"loader"),th={id:tf,detector:ty,loader:t_},tw="treemap",tv=(0,l.__name)(e=>/^\s*treemap/.test(e),"detector"),tb=(0,l.__name)(async()=>{let{diagram:t}=await e.A(68839);return{id:tw,diagram:t}},"loader"),tx={id:tw,detector:tv,loader:tb},tk=!1,tA=(0,l.__name)(()=>{tk||(tk=!0,(0,c.registerDiagram)("error",eU,e=>"error"===e.toLowerCase().trim()),(0,c.registerDiagram)("---",{db:{clear:(0,l.__name)(()=>{},"clear")},styles:{},renderer:{draw:(0,l.__name)(()=>{},"draw")},parser:{parse:(0,l.__name)(()=>{throw Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:(0,l.__name)(()=>null,"init")},e=>e.toLowerCase().trimStart().startsWith("---")),(0,c.registerLazyLoadedDiagrams)(eJ,e3,th),(0,c.registerLazyLoadedDiagrams)(P,e7,eM,eS,Y,ea,eo,ed,ev,eA,W,N,e0,X,eP,eR,eN,ep,tr,tn,ey,tu,tl,tx))},"addDiagrams"),tD=(0,l.__name)(async()=>{l.log.debug("Loading registered diagrams");let e=(await Promise.allSettled(Object.entries(c.detectors).map(async([e,{detector:t,loader:r}])=>{if(r)try{(0,c.getDiagram)(e)}catch{try{let{diagram:e,id:a}=await r();(0,c.registerDiagram)(a,e,t)}catch(t){throw l.log.error(`Failed to load external diagram with key ${e}. Removing from detectors.`),delete c.detectors[e],t}}}))).filter(e=>"rejected"===e.status);if(e.length>0){for(let t of(l.log.error(`Failed to load ${e.length} external diagrams`),e))l.log.error(t);throw Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams");function tC(e,t){e.attr("role","graphics-document document"),""!==t&&e.attr("aria-roledescription",t)}function tE(e,t,r,a){if(void 0!==e.insert){if(r){let t=`chart-desc-${a}`;e.attr("aria-describedby",t),e.insert("desc",":first-child").attr("id",t).text(r)}if(t){let r=`chart-title-${a}`;e.attr("aria-labelledby",r),e.insert("title",":first-child").attr("id",r).text(t)}}}(0,l.__name)(tC,"setA11yDiagramInfo"),(0,l.__name)(tE,"addSVGa11yTitleDescription");var tS=class e{constructor(e,t,r,a,s){this.type=e,this.text=t,this.db=r,this.parser=a,this.renderer=s}static{(0,l.__name)(this,"Diagram")}static async fromText(t,r={}){let a=(0,c.getConfig)(),s=(0,c.detectType)(t,a);t=(0,d.encodeEntities)(t)+"\n";try{(0,c.getDiagram)(s)}catch{let e=(0,c.getDiagramLoader)(s);if(!e)throw new c.UnknownDiagramError(`Diagram ${s} not found.`);let{id:t,diagram:r}=await e();(0,c.registerDiagram)(t,r)}let{db:i,parser:n,renderer:o,init:l}=(0,c.getDiagram)(s);return n.parser&&(n.parser.yy=i),i.clear?.(),l?.(a),r.title&&i.setDiagramTitle?.(r.title),await n.parse(t),new e(s,t,i,n,o)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},tL=[],tT=(0,l.__name)(()=>{tL.forEach(e=>{e()}),tL=[]},"attachFunctions"),tj=(0,l.__name)(e=>e.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function tM(e){let t=e.match(c.frontMatterRegex);if(!t)return{text:e,metadata:{}};let r=(0,i.load)(t[1],{schema:i.JSON_SCHEMA})??{};r="object"!=typeof r||Array.isArray(r)?{}:r;let a={};return r.displayMode&&(a.displayMode=r.displayMode.toString()),r.title&&(a.title=r.title.toString()),r.config&&(a.config=r.config),{text:e.slice(t[0].length),metadata:a}}(0,l.__name)(tM,"extractFrontMatter");var tz=(0,l.__name)(e=>e.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,(e,t,r)=>"<"+t+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),tF=(0,l.__name)(e=>{let{text:t,metadata:r}=tM(e),{displayMode:a,title:s,config:i={}}=r;return a&&(i.gantt||(i.gantt={}),i.gantt.displayMode=a),{title:s,config:i,text:t}},"processFrontmatter"),t$=(0,l.__name)(e=>{let t=d.utils_default.detectInit(e)??{},r=d.utils_default.detectDirective(e,"wrap");return Array.isArray(r)?t.wrap=r.some(({type:e})=>"wrap"===e):r?.type==="wrap"&&(t.wrap=!0),{text:(0,d.removeDirectives)(e),directive:t}},"processDirectives");function tR(e){let t=tF(tz(e)),r=t$(t.text),a=(0,d.cleanAndMerge)(t.config,r.directive);return{code:e=tj(r.text),title:t.title,config:a}}function tI(e){return btoa(Array.from(new TextEncoder().encode(e),e=>String.fromCodePoint(e)).join(""))}(0,l.__name)(tR,"preprocessDiagram"),(0,l.__name)(tI,"toBase64");var tO=["foreignobject"],tq=["dominant-baseline"];function tP(e){let t=tR(e);return(0,c.reset)(),(0,c.addDirective)(t.config??{}),t}async function tV(e,t){tA();try{let{code:t,config:r}=tP(e);return{diagramType:(await tZ(t)).type,config:r}}catch(e){if(t?.suppressErrors)return!1;throw e}}(0,l.__name)(tP,"processAndSetConfigs"),(0,l.__name)(tV,"parse");var tB=(0,l.__name)((e,t,r=[])=>`
.${e} ${t} { ${r.join(" !important; ")} !important; }`,"cssImportantStyles"),tH=(0,l.__name)((e,t=new Map)=>{let r="";if(void 0!==e.themeCSS&&(r+=`
${e.themeCSS}`),void 0!==e.fontFamily&&(r+=`
:root { --mermaid-font-family: ${e.fontFamily}}`),void 0!==e.altFontFamily&&(r+=`
:root { --mermaid-alt-font-family: ${e.altFontFamily}}`),t instanceof Map){let a=e.htmlLabels??e.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];t.forEach(e=>{(0,q.default)(e.styles)||a.forEach(t=>{r+=tB(e.id,t,e.styles)}),(0,q.default)(e.textStyles)||(r+=tB(e.id,"tspan",(e?.textStyles||[]).map(e=>e.replace("color","fill"))))})}return r},"createCssStyles"),tN=(0,l.__name)((e,t,r,a)=>{var s,i,n;let o=tH(e,r),d=(0,c.styles_default)(t,o,e.themeVariables);return R((n=function e(t,r,a,s,i,n,o,d,c){for(var l,m,p,u,f,D,R=0,I=0,O=o,q=0,P=0,V=0,B=1,H=1,N=1,G=0,U="",K=i,W=n,Y=s,J=U;H;)switch(V=G,G=T()){case 40:if(108!=V&&58==w(J,O-1)){-1!=(f=J+=h(z(G),"&","&\f"),D=y(R?d[R-1]:0),f.indexOf("&\f",D))&&(N=-1);break}case 34:case 39:case 91:J+=z(G);break;case 9:case 10:case 13:case 32:J+=function(e){for(;E=j();)if(E<33)T();else break;return M(e)>2||M(E)>3?"":" "}(V);break;case 92:J+=function(e,t){for(var r;--t&&T()&&!(E<48)&&!(E>102)&&(!(E>57)||!(E<65))&&(!(E>70)||!(E<97)););return r=C+(t<6&&32==j()&&32==T()),v(S,e,r)}(C-1,7);continue;case 47:switch(j()){case 42:case 47:x((l=function(e,t){for(;T();)if(e+E===57)break;else if(e+E===84&&47===j())break;return"/*"+v(S,t,C-1)+"*"+_(47===e?e:T())}(T(),C),m=r,p=a,u=c,L(l,m,p,g,_(E),v(l,2,-2),0,u)),c),(5==M(V||1)||5==M(j()||1))&&b(J)&&" "!==v(J,-1,void 0)&&(J+=" ");break;default:J+="/"}break;case 123*B:d[R++]=b(J)*N;case 125*B:case 59:case 0:switch(G){case 0:case 125:H=0;case 59+I:-1==N&&(J=h(J,/\f/g,"")),P>0&&(b(J)-O||0===B&&47===V)&&x(P>32?$(J+";",s,a,O-1,c):$(h(J," ","")+";",s,a,O-2,c),c);break;case 59:J+=";";default:if(x(Y=F(J,r,a,R,I,i,d,U,K=[],W=[],O,n),n),123===G)if(0===I)e(J,r,Y,Y,K,n,O,d,W);else{switch(q){case 99:if(110===w(J,3))break;case 108:if(97===w(J,2))break;default:I=0;case 100:case 109:case 115:}I?e(t,Y,Y,s&&x(F(t,Y,Y,0,0,i,d,U,i,K=[],O,W),W),i,W,O,d,s?K:W):e(J,Y,Y,Y,[""],W,0,d,W)}}R=I=P=0,B=N=1,U=J="",O=o;break;case 58:O=1+b(J),P=V;default:if(B<1){if(123==G)--B;else if(125==G&&0==B++&&125==(E=C>0?w(S,--C):0,A--,10===E&&(A=1,k--),E))continue}switch(J+=_(G),G*B){case 38:N=I>0?1:(J+="\f",-1);break;case 44:d[R++]=(b(J)-1)*N,N=1;break;case 64:45===j()&&(J+=z(T())),q=j(),I=O=b(U=J+=function(e){for(;!M(j());)T();return v(S,e,C)}(C)),G++;break;case 45:45===V&&2==b(J)&&(B=0)}}return n}("",null,null,null,[""],(i=s=`${a}{${d}}`,k=A=1,D=b(S=i),C=0,s=[]),0,[0],s),S="",n),I)},"createUserStyles"),tG=(0,l.__name)((e="",t,r)=>{let a=e;return r||t||(a=a.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),a=(a=(0,d.decodeEntities)(a)).replace(/<br>/g,"<br/>")},"cleanUpSvgCode"),tU=(0,l.__name)((e="",t)=>{let r=t?.viewBox?.baseVal?.height?t.viewBox.baseVal.height+"px":"100%",a=tI(`<body style="margin:0">${e}</body>`);return`<iframe style="width:100%;height:${r};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${a}" sandbox="allow-top-navigation-by-user-activation allow-popups">
  The "iframe" tag is not supported by your browser.
</iframe>`},"putIntoIFrame"),tK=(0,l.__name)((e,t,r,a,s)=>{let i=e.append("div");i.attr("id",r),a&&i.attr("style",a);let n=i.append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return s&&n.attr("xmlns:xlink",s),n.append("g"),e},"appendDivSvgG");function tW(e,t){return e.append("iframe").attr("id",t).attr("style","width: 100%; height: 100%;").attr("sandbox","")}(0,l.__name)(tW,"sandboxedIframe");var tY=(0,l.__name)((e,t,r,a)=>{e.getElementById(t)?.remove(),e.getElementById(r)?.remove(),e.getElementById(a)?.remove()},"removeExistingElements"),tJ=(0,l.__name)(async function(e,t,r){let s,i;tA();let n=tP(t);t=n.code;let o=(0,c.getConfig)();l.log.debug(o),t.length>(o?.maxTextSize??5e4)&&(t="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");let d="#"+e,m="i"+e,g="#"+m,u="d"+e,f="#"+u,y=(0,l.__name)(()=>{let e=h?g:f,t=(0,p.select)(e).node();t&&"remove"in t&&t.remove()},"removeTempElements"),_=(0,p.select)("body"),h="sandbox"===o.securityLevel,w="loose"===o.securityLevel,v=o.fontFamily;if(void 0!==r){if(r&&(r.innerHTML=""),h){let e=tW((0,p.select)(r),m);(_=(0,p.select)(e.nodes()[0].contentDocument.body)).node().style.margin=0}else _=(0,p.select)(r);tK(_,e,u,`font-family: ${v}`,"http://www.w3.org/1999/xlink")}else{if(tY(document,e,u,m),h){let e=tW((0,p.select)("body"),m);(_=(0,p.select)(e.nodes()[0].contentDocument.body)).node().style.margin=0}else _=(0,p.select)("body");tK(_,e,u)}try{s=await tS.fromText(t,{title:n.title})}catch(e){if(o.suppressErrorRendering)throw y(),e;s=await tS.fromText("error"),i=e}let b=_.select(f).node(),x=s.type,k=b.firstChild,A=k.firstChild,D=tN(o,x,s.renderer.getClasses?.(t,s),d),C=document.createElement("style");C.innerHTML=D,k.insertBefore(C,A);try{await s.renderer.draw(t,e,a.package_default.version,s)}catch(r){throw o.suppressErrorRendering?y():eG.draw(t,e,a.package_default.version),r}tX(x,_.select(`${f} svg`),s.db.getAccTitle?.(),s.db.getAccDescription?.()),_.select(`[id="${e}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let E=_.select(f).node().innerHTML;if(l.log.debug("config.arrowMarkerAbsolute",o.arrowMarkerAbsolute),E=tG(E,h,(0,c.evaluate)(o.arrowMarkerAbsolute)),h?E=tU(E,_.select(f+" svg").node()):w||(E=O.default.sanitize(E,{ADD_TAGS:tO,ADD_ATTR:tq,HTML_INTEGRATION_POINTS:{foreignobject:!0}})),tT(),i)throw i;return y(),{diagramType:x,svg:E,bindFunctions:s.db.bindFunctions}},"render");function tQ(e={}){let t=(0,c.assignWithDepth_default)({},e);t?.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),(0,c.saveConfigFromInitialize)(t),t?.theme&&t.theme in c.themes_default?t.themeVariables=c.themes_default[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=c.themes_default.default.getThemeVariables(t.themeVariables));let r="object"==typeof t?(0,c.setSiteConfig)(t):(0,c.getSiteConfig)();(0,l.setLogLevel)(r.logLevel),tA()}(0,l.__name)(tQ,"initialize");var tZ=(0,l.__name)((e,t={})=>{let{code:r}=tR(e);return tS.fromText(r,t)},"getDiagramFromText");function tX(e,t,r,a){tC(t,e),tE(t,r,a,t.attr("id"))}(0,l.__name)(tX,"addA11yInfo");var t0=Object.freeze({render:tJ,parse:tV,getDiagramFromText:tZ,initialize:tQ,getConfig:c.getConfig,setConfig:c.setConfig,getSiteConfig:c.getSiteConfig,updateSiteConfig:c.updateSiteConfig,reset:(0,l.__name)(()=>{(0,c.reset)()},"reset"),globalReset:(0,l.__name)(()=>{(0,c.reset)(c.defaultConfig)},"globalReset"),defaultConfig:c.defaultConfig});(0,l.setLogLevel)((0,c.getConfig)().logLevel),(0,c.reset)((0,c.getConfig)());var t1=(0,l.__name)((e,t,r)=>{l.log.warn(e),(0,d.isDetailedError)(e)?(r&&r(e.str,e.hash),t.push({...e,message:e.str,error:e})):(r&&r(e),e instanceof Error&&t.push({str:e.message,message:e.message,hash:e.name,error:e}))},"handleError"),t2=(0,l.__name)(async function(e={querySelector:".mermaid"}){try{await t6(e)}catch(t){if((0,d.isDetailedError)(t)&&l.log.error(t.str),ri.parseError&&ri.parseError(t),!e.suppressErrors)throw l.log.error("Use the suppressErrors option to suppress these errors"),t}},"run"),t6=(0,l.__name)(async function({postRenderCallback:e,querySelector:t,nodes:r}={querySelector:".mermaid"}){let a,s,i=t0.getConfig();if(l.log.debug(`${!e?"No ":""}Callback function found`),r)a=r;else if(t)a=document.querySelectorAll(t);else throw Error("Nodes and querySelector are both undefined");l.log.debug(`Found ${a.length} diagrams`),i?.startOnLoad!==void 0&&(l.log.debug("Start On Load: "+i?.startOnLoad),t0.updateSiteConfig({startOnLoad:i?.startOnLoad}));let n=new d.utils_default.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed),o=[];for(let t of Array.from(a)){if(l.log.info("Rendering diagram: "+t.id),t.getAttribute("data-processed"))continue;t.setAttribute("data-processed","true");let r=`mermaid-${n.next()}`;s=t.innerHTML,s=(0,m.dedent)(d.utils_default.entityDecode(s)).trim().replace(/<br\s*\/?>/gi,"<br/>");let a=d.utils_default.detectInit(s);a&&l.log.debug("Detected early reinit: ",a);try{let{svg:a,bindFunctions:i}=await ra(r,s,t);t.innerHTML=a,e&&await e(r),i&&i(t)}catch(e){t1(e,o,ri.parseError)}}if(o.length>0)throw o[0]},"runThrowsErrors"),t3=(0,l.__name)(function(e){t0.initialize(e)},"initialize"),t4=(0,l.__name)(async function(e,t,r){l.log.warn("mermaid.init is deprecated. Please use run instead."),e&&t3(e);let a={postRenderCallback:r,querySelector:".mermaid"};"string"==typeof t?a.querySelector=t:t&&(t instanceof HTMLElement?a.nodes=[t]:a.nodes=t),await t2(a)},"init"),t5=(0,l.__name)(async(e,{lazyLoad:t=!0}={})=>{tA(),(0,c.registerLazyLoadedDiagrams)(...e),!1===t&&await tD()},"registerExternalDiagrams"),t8=(0,l.__name)(function(){if(ri.startOnLoad){let{startOnLoad:e}=t0.getConfig();e&&ri.run().catch(e=>l.log.error("Mermaid failed to initialize",e))}},"contentLoaded");"u">typeof document&&window.addEventListener("load",t8,!1);var t7=(0,l.__name)(function(e){ri.parseError=e},"setParseErrorHandler"),t9=[],re=!1,rt=(0,l.__name)(async()=>{if(!re){for(re=!0;t9.length>0;){let e=t9.shift();if(e)try{await e()}catch(e){l.log.error("Error executing queue",e)}}re=!1}},"executeQueue"),rr=(0,l.__name)(async(e,t)=>new Promise((r,a)=>{let s=(0,l.__name)(()=>new Promise((s,i)=>{t0.parse(e,t).then(e=>{s(e),r(e)},e=>{l.log.error("Error parsing",e),ri.parseError?.(e),i(e),a(e)})}),"performCall");t9.push(s),rt().catch(a)}),"parse"),ra=(0,l.__name)((e,t,r)=>new Promise((a,s)=>{let i=(0,l.__name)(()=>new Promise((i,n)=>{t0.render(e,t,r).then(e=>{i(e),a(e)},e=>{l.log.error("Error parsing",e),ri.parseError?.(e),n(e),s(e)})}),"performCall");t9.push(i),rt().catch(s)}),"render"),rs=(0,l.__name)(()=>Object.keys(c.detectors).map(e=>({id:e})),"getRegisteredDiagramsMetadata"),ri={startOnLoad:!0,mermaidAPI:t0,parse:rr,render:ra,init:t4,run:t2,registerExternalDiagrams:t5,registerLayoutLoaders:n.registerLayoutLoaders,initialize:t3,parseError:void 0,contentLoaded:t8,setParseErrorHandler:t7,detectType:c.detectType,registerIconPacks:o.registerIconPacks,getRegisteredDiagramsMetadata:rs};let rn=0;function ro({chart:e}){let a=(0,r.useRef)(null),[s,i]=(0,r.useState)("");return(0,r.useEffect)(()=>{let t=e.replace(/&quot;/g,'"'),r=`mermaid-${++rn}`,a=document.documentElement.classList.contains("dark");ri.initialize({startOnLoad:!1,theme:a?"dark":"default",fontFamily:"inherit"}),ri.render(r,t).then(({svg:e})=>i(e));let s=new MutationObserver(e=>{for(let r of e)if("attributes"===r.type&&"class"===r.attributeName){let e=document.documentElement.classList.contains("dark");ri.initialize({startOnLoad:!1,theme:e?"dark":"default",fontFamily:"inherit"});let r=`mermaid-${++rn}`;ri.render(r,t).then(({svg:e})=>i(e))}});return s.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]}),()=>s.disconnect()},[e]),(0,t.jsx)("div",{ref:a,className:"my-6 flex justify-center overflow-x-auto [&_svg]:max-w-full",dangerouslySetInnerHTML:{__html:s}})}e.s(["Mermaid",()=>ro],63508)}]);