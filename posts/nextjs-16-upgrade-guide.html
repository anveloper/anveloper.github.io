<!DOCTYPE html><!--kv86QjeG0ZyxWVEvptI9U--><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/chunks/d00d57982c625756.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/a21146379db92032.js"/><script src="/_next/static/chunks/1e278fdde29a4b5a.js" async=""></script><script src="/_next/static/chunks/2e19ce224f1f9d89.js" async=""></script><script src="/_next/static/chunks/a0f43a3390939b7e.js" async=""></script><script src="/_next/static/chunks/turbopack-0062a60ab2ca90b2.js" async=""></script><script src="/_next/static/chunks/24ec601050a34de4.js" async=""></script><script src="/_next/static/chunks/44aea766f6f80a25.js" async=""></script><script src="/_next/static/chunks/f0d2ef03bc5b3146.js" async=""></script><script src="/_next/static/chunks/221e0744b683f94b.js" async=""></script><script src="/_next/static/chunks/90c5a27ffb71fa4a.js" async=""></script><script src="/_next/static/chunks/9a18b7330d276141.js" async=""></script><script src="/_next/static/chunks/a3d20a812be16d69.js" async=""></script><script src="/_next/static/chunks/c84805df17f0a72a.js" async=""></script><script src="/_next/static/chunks/948615c9ecde1cb4.js" async=""></script><script src="/_next/static/chunks/85806e5b63a62879.js" async=""></script><script src="/_next/static/chunks/311bfda68bef2673.js" async=""></script><script src="/_next/static/chunks/f87ca1afb6e89cb0.js" async=""></script><script src="/_next/static/chunks/e1a9aaa3e8d4ba89.js" async=""></script><script src="/_next/static/chunks/8fba60bd4135542a.js" async=""></script><link rel="shortcut icon" href="/favicon-light.svg"/><link rel="icon" href="/favicon-light.svg"/><link rel="apple-touch-icon" href="/favicon-light.svg"/><title>Next.js 14에서 16까지: 실무 프로젝트 마이그레이션 기록 | 안성진</title><meta name="description" content="Next.js 14에서 16으로, React 18에서 19로, NextAuth v4에서 v5로. 대규모 프로젝트의 메이저 업그레이드 과정을 정리했다."/><meta name="keywords" content="Next.js,React,NextAuth,Migration"/><meta name="robots" content="index, follow"/><meta property="og:title" content="Next.js 14에서 16까지: 실무 프로젝트 마이그레이션 기록"/><meta property="og:description" content="Next.js 14에서 16으로, React 18에서 19로, NextAuth v4에서 v5로. 대규모 프로젝트의 메이저 업그레이드 과정을 정리했다."/><meta property="og:url" content="https://anveloper.dev/posts/nextjs-16-upgrade-guide"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Next.js 14에서 16까지: 실무 프로젝트 마이그레이션 기록"/><meta name="twitter:description" content="Next.js 14에서 16으로, React 18에서 19로, NextAuth v4에서 v5로. 대규모 프로젝트의 메이저 업그레이드 과정을 정리했다."/><script>
  (function() {
    try {
      var theme = localStorage.getItem('theme');
      if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    } catch (e) {}
  })();
</script><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="min-h-screen flex flex-col bg-background text-foreground antialiased"><div hidden=""><!--$--><!--/$--></div><main class="flex-1 flex flex-col"><!--$?--><template id="B:0"></template><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-loader h-11 w-11 absolute m-auto top-0 bottom-0 right-0 left-0 animate-spin text-muted-foreground z-50" aria-hidden="true"><path d="M12 2v4"></path><path d="m16.2 7.8 2.9-2.9"></path><path d="M18 12h4"></path><path d="m16.2 16.2 2.9 2.9"></path><path d="M12 18v4"></path><path d="m4.9 19.1 2.9-2.9"></path><path d="M2 12h4"></path><path d="m4.9 4.9 2.9 2.9"></path></svg><!--/$--></main><script>requestAnimationFrame(function(){$RT=performance.now()});</script><script src="/_next/static/chunks/a21146379db92032.js" id="_R_" async=""></script><div hidden id="S:0"><div class="pt-28 pb-8 px-6 sm:px-8 md:px-12 lg:px-16 md:pt-20 min-h-screen bg-[radial-gradient(oklch(0.5_0_0/15%)_1px,transparent_1px)] bg-size-[20px_20px]"><div class="w-full max-w-4xl mx-auto"><a class="inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-6" href="/posts"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left w-4 h-4" aria-hidden="true"><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg><span>포스트 목록으로 돌아가기</span></a><div class="rounded-lg border border-border bg-card text-card-foreground shadow-sm mb-8"><div class="p-6 pt-6"><h1 class="text-3xl sm:text-4xl font-bold text-foreground mb-4">Next.js 14에서 16까지: 실무 프로젝트 마이그레이션 기록</h1><div class="flex flex-wrap items-center gap-4 mb-4"><div class="flex items-center gap-2 text-muted-foreground"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar w-4 h-4" aria-hidden="true"><path d="M8 2v4"></path><path d="M16 2v4"></path><rect width="18" height="18" x="3" y="4" rx="2"></rect><path d="M3 10h18"></path></svg><span>2026-02-02</span></div></div><div class="flex flex-wrap gap-2"><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky">Next.js</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky">React</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky">NextAuth</div><div class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky">Migration</div></div></div></div><article class="prose prose-neutral dark:prose-invert max-w-none"><h1 class="text-4xl font-bold mt-8 mb-4 text-foreground">Next.js 14에서 16까지: 실무 프로젝트 마이그레이션 기록</h1>
<h2 class="text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2">배경</h2>
<p class="my-4 leading-7 text-foreground/90">운영 중인 대규모 프로젝트(900개 이상 파일, 80개 이상 페이지)를 Next.js 14에서 16까지 단계적으로 업그레이드했다. React 18에서 19로, NextAuth v4에서 v5로의 전환도 함께 진행되었기에 단순한 버전 범프와는 거리가 멀었다.</p>
<div class="my-6 overflow-x-auto"><table class="w-full border-collapse"><thead class="bg-muted"><tr><th class="border border-border px-4 py-2 text-left font-semibold">패키지</th><th class="border border-border px-4 py-2 text-left font-semibold">시작 버전</th><th class="border border-border px-4 py-2 text-left font-semibold">중간 버전</th><th class="border border-border px-4 py-2 text-left font-semibold">최종 버전</th></tr></thead><tbody><tr><td class="border border-border px-4 py-2">next</td><td class="border border-border px-4 py-2">14.2.35</td><td class="border border-border px-4 py-2">15.5.11</td><td class="border border-border px-4 py-2">16.1.6</td></tr><tr><td class="border border-border px-4 py-2">react</td><td class="border border-border px-4 py-2">18.3.1</td><td class="border border-border px-4 py-2">18.3.1</td><td class="border border-border px-4 py-2">19.2.4</td></tr><tr><td class="border border-border px-4 py-2">next-auth</td><td class="border border-border px-4 py-2">4.x</td><td class="border border-border px-4 py-2">4.x</td><td class="border border-border px-4 py-2">5.0.0-beta.30</td></tr></tbody></table></div>
<p class="my-4 leading-7 text-foreground/90">업그레이드는 14→15→16 순서로 진행했다. 한 번에 두 메이저 버전을 건너뛰는 것은 위험하므로, 각 단계에서 빌드가 정상적으로 통과하는 것을 확인한 뒤 다음 단계로 넘어갔다. 이 글에서는 각 단계에서 만난 주요 변경사항과 대응 방법을 정리한다.</p>
<h2 class="text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2">Phase 1: Next.js 14 → 15</h2>
<h3 class="text-2xl font-semibold mt-5 mb-2 text-foreground">의존성 정리</h3>
<p class="my-4 leading-7 text-foreground/90">14 버전의 마지막 패치(14.2.35)로 먼저 올리면서 의존성을 정리했다. 보안 패치 적용과 함께 사용하지 않는 패키지를 제거하고, 누락된 의존성을 추가하는 작업을 선행했다. 업그레이드 전에 의존성을 깨끗하게 정리해두면 이후 단계에서 문제의 원인을 좁히기가 수월하다.</p>
<h3 class="text-2xl font-semibold mt-5 mb-2 text-foreground">Async Request API (Next.js 15의 핵심 변경)</h3>
<p class="my-4 leading-7 text-foreground/90">15에서 가장 큰 변경은 <code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">params</code>와 <code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">searchParams</code>가 Promise로 변경된 것이다. <strong class="font-semibold text-foreground">173개 파일</strong>이 영향을 받았다.</p>
<pre class="bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">// Next.js 14
export default function Page({ params }: { params: { id: string } }) {
  const { id } = params;
}

// Next.js 15
export default async function Page({
  params,
}: {
  params: Promise&lt;{ id: string }&gt;;
}) {
  const { id } = await params;
}
</code></pre>
<p class="my-4 leading-7 text-foreground/90">다행히 Next.js에서 제공하는 codemod가 잘 동작했다. 수동으로 173개 파일을 수정할 생각을 하면 아찔하다.</p>
<pre class="bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">npx @next/codemod@latest async-request-api .
</code></pre>
<p class="my-4 leading-7 text-foreground/90">codemod 적용 후 빌드를 확인하고, 15 버전에서의 안정성을 검증한 뒤 다음 단계로 넘어갔다.</p>
<h2 class="text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2">Phase 2: Next.js 15 → 16</h2>
<p class="my-4 leading-7 text-foreground/90">이 단계에서 React 19와 NextAuth v5 전환이 함께 이루어졌다.</p>
<h3 class="text-2xl font-semibold mt-5 mb-2 text-foreground">NextAuth v5 마이그레이션</h3>
<p class="my-4 leading-7 text-foreground/90">16 업그레이드에서 가장 영향 범위가 컸다. <strong class="font-semibold text-foreground">206개 파일</strong>이 변경 대상이었다.</p>
<h4 class="text-xl font-semibold mt-4 mb-2 text-foreground">파일 구조 변경</h4>
<p class="my-4 leading-7 text-foreground/90">v4에서는 API route 내부에 인증 설정을 두었지만, v5에서는 <code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">lib/</code>로 분리하여 중앙화하는 구조로 바뀌었다.</p>
<pre class="bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"># v4
app/api/auth/[...nextauth]/auth-option.ts  → 삭제
app/api/auth/[...nextauth]/route.ts

# v5
lib/auth.ts              # auth() 함수 export
lib/auth.config.ts       # NextAuth 설정
app/api/auth/[...nextauth]/route.ts
</code></pre>
<h4 class="text-xl font-semibold mt-4 mb-2 text-foreground">세션 조회 방식 변경</h4>
<p class="my-4 leading-7 text-foreground/90"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">getServerSession(authOptions)</code>를 호출하던 모든 곳을 <code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">auth()</code>로 교체해야 한다. 함수명이 짧아진 것은 좋지만, 206개 파일을 수정하는 것은 단순 반복 작업이었다.</p>
<pre class="bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">// v4
import { getServerSession } from &quot;next-auth&quot;;
import { authOptions } from &quot;@/app/api/auth/[...nextauth]/auth-option&quot;;
const session = await getServerSession(authOptions);

// v5
import { auth } from &quot;@/lib/auth&quot;;
const session = await auth();
</code></pre>
<h4 class="text-xl font-semibold mt-4 mb-2 text-foreground">route.ts 변경</h4>
<p class="my-4 leading-7 text-foreground/90">route handler도 간결해졌다.</p>
<pre class="bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">// v4
import NextAuth from &quot;next-auth&quot;;
import { authOptions } from &quot;./auth-option&quot;;
const handler = NextAuth(authOptions);
export { handler as GET, handler as POST };

// v5
import { handlers } from &quot;@/lib/auth&quot;;
export const { GET, POST } = handlers;
</code></pre>
<p class="my-4 leading-7 text-foreground/90">설정이 중앙화되면서 코드 자체는 깔끔해졌으나, 전환 과정의 작업량이 상당했다. IDE의 전체 검색과 일괄 치환에 크게 의존했다.</p>
<h3 class="text-2xl font-semibold mt-5 mb-2 text-foreground">middleware.ts → proxy.ts</h3>
<p class="my-4 leading-7 text-foreground/90">Next.js 16에서 middleware 파일명이 <code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">proxy.ts</code>로 변경되었다. 파일명 하나만 바꾸면 되지만, 모르면 한참 헤맬 수 있는 변경이다.</p>
<pre class="bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">이전: middleware.ts
현재: proxy.ts
</code></pre>
<h3 class="text-2xl font-semibold mt-5 mb-2 text-foreground">React 19 타입 호환성</h3>
<h4 class="text-xl font-semibold mt-4 mb-2 text-foreground">useRef 타입 변경</h4>
<p class="my-4 leading-7 text-foreground/90">React 19에서 <code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">useRef</code>의 타입 시그니처가 변경되었다.</p>
<pre class="bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">// 이전
const ref = useRef&lt;HTMLDivElement&gt;(null);

// 현재 (React 19)
const ref = useRef&lt;HTMLDivElement | null&gt;(null);
</code></pre>
<p class="my-4 leading-7 text-foreground/90"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">null</code>을 유니온으로 명시해야 한다. 빌드 시 타입 에러로 잡히기 때문에 놓칠 일은 없지만, 수정해야 할 곳이 적지 않았다.</p>
<h3 class="text-2xl font-semibold mt-5 mb-2 text-foreground">SVG Import 변경</h3>
<p class="my-4 leading-7 text-foreground/90"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">@svgr/webpack</code>이 Turbopack과 호환되지 않는 문제가 있었다. SVG 파일을 TSX 컴포넌트로 직접 변환하는 방식으로 우회했다.</p>
<pre class="bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">// 이전
import AlarmIcon from &quot;@/assets/icons/svg/alarm.svg&quot;;

// 현재
import AlarmIcon from &quot;@/assets/icons/svg/alarm&quot;;
// alarm.tsx 파일로 변환
</code></pre>
<p class="my-4 leading-7 text-foreground/90">9개 파일에서 사용 중이던 SVG를 모두 TSX 컴포넌트로 변환했다. 번거롭지만 Turbopack의 빌드 속도를 고려하면 합리적인 선택이었다.</p>
<h3 class="text-2xl font-semibold mt-5 mb-2 text-foreground">next.config.mjs 변경</h3>
<p class="my-4 leading-7 text-foreground/90">Next.js 16에서 ESLint 관련 설정이 제거되었다. 기존에 <code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">eslint.ignoreDuringBuilds</code> 옵션을 사용하고 있었다면 해당 설정을 삭제해야 한다.</p>
<pre class="bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"><code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">// 이전
const nextConfig = {
  eslint: {
    ignoreDuringBuilds: true,
  },
};

// 현재: eslint 설정 제거
</code></pre>
<h2 class="text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2">정리</h2>
<p class="my-4 leading-7 text-foreground/90">14에서 16까지, 두 번의 메이저 업그레이드에서 수정된 파일 수를 정리하면 다음과 같다.</p>
<div class="my-6 overflow-x-auto"><table class="w-full border-collapse"><thead class="bg-muted"><tr><th class="border border-border px-4 py-2 text-left font-semibold">단계</th><th class="border border-border px-4 py-2 text-left font-semibold">변경 항목</th><th class="border border-border px-4 py-2 text-left font-semibold">영향 파일 수</th></tr></thead><tbody><tr><td class="border border-border px-4 py-2">14 → 15</td><td class="border border-border px-4 py-2">Async Request API (codemod)</td><td class="border border-border px-4 py-2">173개</td></tr><tr><td class="border border-border px-4 py-2">15 → 16</td><td class="border border-border px-4 py-2">NextAuth v5 전환</td><td class="border border-border px-4 py-2">206개</td></tr><tr><td class="border border-border px-4 py-2">15 → 16</td><td class="border border-border px-4 py-2">React 19 타입 호환성</td><td class="border border-border px-4 py-2">-</td></tr><tr><td class="border border-border px-4 py-2">15 → 16</td><td class="border border-border px-4 py-2">SVG Import 변환</td><td class="border border-border px-4 py-2">9개</td></tr></tbody></table></div>
<p class="my-4 leading-7 text-foreground/90"><strong class="font-semibold text-foreground">핵심 교훈</strong>:</p>
<ul class="my-4 ml-6 list-disc space-y-2">
<li class="text-foreground/90 leading-7">메이저 버전을 여러 단계 건너뛸 때는 반드시 한 단계씩 올려야 한다. 각 단계에서 빌드 확인 후 다음으로 넘어가야 문제의 원인을 좁힐 수 있다.</li>
<li class="text-foreground/90 leading-7">업그레이드 전 의존성 정리를 선행하면, 이후 발생하는 오류가 버전 변경 때문인지 기존 문제인지 구분이 명확해진다.</li>
<li class="text-foreground/90 leading-7">codemod가 제공되는 변경사항은 적극적으로 활용하는 것이 좋다. Async Request API의 173개 파일 수정은 codemod 없이는 현실적으로 힘들었을 것이다.</li>
<li class="text-foreground/90 leading-7">파일명 변경(<code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">middleware.ts</code> → <code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground">proxy.ts</code>)처럼 사소하지만 치명적인 변경은 릴리즈 노트를 꼼꼼히 읽어야만 발견할 수 있다.</li>
</ul></article></div></div><!--$--><!--/$--></div><script>$RB=[];$RV=function(a){$RT=performance.now();for(var b=0;b<a.length;b+=2){var c=a[b],e=a[b+1];null!==e.parentNode&&e.parentNode.removeChild(e);var f=c.parentNode;if(f){var g=c.previousSibling,h=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d||"/&"===d)if(0===h)break;else h--;else"$"!==d&&"$?"!==d&&"$~"!==d&&"$!"!==d&&"&"!==d||h++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;e.firstChild;)f.insertBefore(e.firstChild,c);g.data="$";g._reactRetry&&requestAnimationFrame(g._reactRetry)}}a.length=0};
$RC=function(a,b){if(b=document.getElementById(b))(a=document.getElementById(a))?(a.previousSibling.data="$~",$RB.push(a,b),2===$RB.length&&("number"!==typeof $RT?requestAnimationFrame($RV.bind(null,$RB)):(a=performance.now(),setTimeout($RV.bind(null,$RB),2300>a&&2E3<a?2300-a:$RT+300-a)))):b.parentNode.removeChild(b)};$RC("B:0","S:0")</script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[28739,[\"/_next/static/chunks/24ec601050a34de4.js\",\"/_next/static/chunks/44aea766f6f80a25.js\",\"/_next/static/chunks/f0d2ef03bc5b3146.js\"],\"Providers\"]\n3:I[63720,[\"/_next/static/chunks/24ec601050a34de4.js\",\"/_next/static/chunks/44aea766f6f80a25.js\",\"/_next/static/chunks/f0d2ef03bc5b3146.js\"],\"NavBar\"]\n4:I[25270,[\"/_next/static/chunks/221e0744b683f94b.js\",\"/_next/static/chunks/90c5a27ffb71fa4a.js\"],\"default\"]\n5:I[85455,[\"/_next/static/chunks/221e0744b683f94b.js\",\"/_next/static/chunks/90c5a27ffb71fa4a.js\"],\"default\"]\n6:I[53013,[\"/_next/static/chunks/24ec601050a34de4.js\",\"/_next/static/chunks/44aea766f6f80a25.js\",\"/_next/static/chunks/f0d2ef03bc5b3146.js\"],\"default\"]\n8:I[95276,[\"/_next/static/chunks/221e0744b683f94b.js\",\"/_next/static/chunks/90c5a27ffb71fa4a.js\"],\"OutletBoundary\"]\n9:\"$Sreact.suspense\"\n14:I[7871,[\"/_next/static/chunks/221e0744b683f94b.js\",\"/_next/static/chunks/90c5a27ffb71fa4a.js\"],\"default\"]\n:HL[\"/_next/static/chunks/d00d57982c625756.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"kv86QjeG0ZyxWVEvptI9U\",\"c\":[\"\",\"posts\",\"nextjs-16-upgrade-guide\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"nextjs-16-upgrade-guide\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/d00d57982c625756.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/24ec601050a34de4.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/44aea766f6f80a25.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-2\",{\"src\":\"/_next/static/chunks/f0d2ef03bc5b3146.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n  (function() {\\n    try {\\n      var theme = localStorage.getItem('theme');\\n      if (theme === 'dark' || (!theme \u0026\u0026 window.matchMedia('(prefers-color-scheme: dark)').matches)) {\\n        document.documentElement.classList.add('dark');\\n      } else {\\n        document.documentElement.classList.remove('dark');\\n      }\\n    } catch (e) {}\\n  })();\\n\"}}],[\"$\",\"link\",null,{\"rel\":\"shortcut icon\",\"href\":\"/favicon-light.svg\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon-light.svg\"}],[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"href\":\"/favicon-light.svg\"}]]}],[\"$\",\"body\",null,{\"className\":\"min-h-screen flex flex-col bg-background text-foreground antialiased\",\"children\":[[\"$\",\"$L2\",null,{\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"main\",null,{\"className\":\"flex-1 flex flex-col\",\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}],[\"$\",\"$L6\",null,{}]]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/9a18b7330d276141.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/a3d20a812be16d69.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-2\",{\"src\":\"/_next/static/chunks/c84805df17f0a72a.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-3\",{\"src\":\"/_next/static/chunks/948615c9ecde1cb4.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-4\",{\"src\":\"/_next/static/chunks/85806e5b63a62879.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-5\",{\"src\":\"/_next/static/chunks/311bfda68bef2673.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-6\",{\"src\":\"/_next/static/chunks/f87ca1afb6e89cb0.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-7\",{\"src\":\"/_next/static/chunks/e1a9aaa3e8d4ba89.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-8\",{\"src\":\"/_next/static/chunks/8fba60bd4135542a.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L8\",null,{\"children\":[\"$\",\"$9\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@a\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},[[\"$\",\"svg\",\"l\",{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-loader h-11 w-11 absolute m-auto top-0 bottom-0 right-0 left-0 animate-spin text-muted-foreground z-50\",\"aria-hidden\":\"true\",\"children\":[\"$Lb\",\"$Lc\",\"$Ld\",\"$Le\",\"$Lf\",\"$L10\",\"$L11\",\"$L12\",\"$undefined\"]}],[],[]],false,false],\"$L13\",false]],\"m\":\"$undefined\",\"G\":[\"$14\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"15:I[95276,[\"/_next/static/chunks/221e0744b683f94b.js\",\"/_next/static/chunks/90c5a27ffb71fa4a.js\"],\"ViewportBoundary\"]\n17:I[95276,[\"/_next/static/chunks/221e0744b683f94b.js\",\"/_next/static/chunks/90c5a27ffb71fa4a.js\"],\"MetadataBoundary\"]\nb:[\"$\",\"path\",\"3427ic\",{\"d\":\"M12 2v4\"}]\nc:[\"$\",\"path\",\"r700ao\",{\"d\":\"m16.2 7.8 2.9-2.9\"}]\nd:[\"$\",\"path\",\"wj9ykh\",{\"d\":\"M18 12h4\"}]\ne:[\"$\",\"path\",\"1bxg5t\",{\"d\":\"m16.2 16.2 2.9 2.9\"}]\nf:[\"$\",\"path\",\"jadmvz\",{\"d\":\"M12 18v4\"}]\n10:[\"$\",\"path\",\"bwix9q\",{\"d\":\"m4.9 19.1 2.9-2.9\"}]\n11:[\"$\",\"path\",\"j09sii\",{\"d\":\"M2 12h4\"}]\n12:[\"$\",\"path\",\"giyufr\",{\"d\":\"m4.9 4.9 2.9 2.9\"}]\n13:[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L15\",null,{\"children\":\"$L16\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$L17\",null,{\"children\":[\"$\",\"$9\",null,{\"name\":\"Next.Metadata\",\"children\":\"$L18\"}]}]}],null]}]\n"])</script><script>self.__next_f.push([1,"16:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"19:I[51506,[\"/_next/static/chunks/24ec601050a34de4.js\",\"/_next/static/chunks/44aea766f6f80a25.js\",\"/_next/static/chunks/f0d2ef03bc5b3146.js\",\"/_next/static/chunks/9a18b7330d276141.js\",\"/_next/static/chunks/a3d20a812be16d69.js\",\"/_next/static/chunks/c84805df17f0a72a.js\",\"/_next/static/chunks/948615c9ecde1cb4.js\",\"/_next/static/chunks/85806e5b63a62879.js\",\"/_next/static/chunks/311bfda68bef2673.js\",\"/_next/static/chunks/f87ca1afb6e89cb0.js\",\"/_next/static/chunks/e1a9aaa3e8d4ba89.js\",\"/_next/static/chunks/8fba60bd4135542a.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"div\",null,{\"className\":\"pt-28 pb-8 px-6 sm:px-8 md:px-12 lg:px-16 md:pt-20 min-h-screen bg-[radial-gradient(oklch(0.5_0_0/15%)_1px,transparent_1px)] bg-size-[20px_20px]\",\"children\":[\"$\",\"div\",null,{\"className\":\"w-full max-w-4xl mx-auto\",\"children\":[[\"$\",\"$L19\",null,{\"href\":\"/posts\",\"className\":\"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-6\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left w-4 h-4\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"포스트 목록으로 돌아가기\"}]]}],[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"rounded-lg border border-border bg-card text-card-foreground shadow-sm mb-8\",\"children\":[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"p-6 pt-6\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl sm:text-4xl font-bold text-foreground mb-4\",\"children\":\"Next.js 14에서 16까지: 실무 프로젝트 마이그레이션 기록\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap items-center gap-4 mb-4\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center gap-2 text-muted-foreground\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-calendar w-4 h-4\",\"aria-hidden\":\"true\",\"children\":[[\"$\",\"path\",\"1cmpym\",{\"d\":\"M8 2v4\"}],[\"$\",\"path\",\"4m81vk\",{\"d\":\"M16 2v4\"}],[\"$\",\"rect\",\"1hopcy\",{\"width\":\"18\",\"height\":\"18\",\"x\":\"3\",\"y\":\"4\",\"rx\":\"2\"}],[\"$\",\"path\",\"8toen8\",{\"d\":\"M3 10h18\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"2026-02-02\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-2\",\"children\":[[\"$\",\"div\",\"Next.js\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky\",\"children\":\"Next.js\"}],[\"$\",\"div\",\"React\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky\",\"children\":\"React\"}],[\"$\",\"div\",\"NextAuth\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky\",\"children\":\"NextAuth\"}],[\"$\",\"div\",\"Migration\",{\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky\",\"children\":\"Migration\"}]]}]]}]}],[\"$\",\"article\",null,{\"className\":\"prose prose-neutral dark:prose-invert max-w-none\",\"children\":\"$L1a\"}]]}]}]\n"])</script><script>self.__next_f.push([1,"a:null\n18:[[\"$\",\"title\",\"0\",{\"children\":\"Next.js 14에서 16까지: 실무 프로젝트 마이그레이션 기록 | 안성진\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Next.js 14에서 16으로, React 18에서 19로, NextAuth v4에서 v5로. 대규모 프로젝트의 메이저 업그레이드 과정을 정리했다.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"keywords\",\"content\":\"Next.js,React,NextAuth,Migration\"}],[\"$\",\"meta\",\"3\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"Next.js 14에서 16까지: 실무 프로젝트 마이그레이션 기록\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"Next.js 14에서 16으로, React 18에서 19로, NextAuth v4에서 v5로. 대규모 프로젝트의 메이저 업그레이드 과정을 정리했다.\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:url\",\"content\":\"https://anveloper.dev/posts/nextjs-16-upgrade-guide\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:title\",\"content\":\"Next.js 14에서 16까지: 실무 프로젝트 마이그레이션 기록\"}],[\"$\",\"meta\",\"10\",{\"name\":\"twitter:description\",\"content\":\"Next.js 14에서 16으로, React 18에서 19로, NextAuth v4에서 v5로. 대규모 프로젝트의 메이저 업그레이드 과정을 정리했다.\"}]]\n"])</script><script>self.__next_f.push([1,"1a:[[\"$\",\"h1\",null,{\"children\":\"Next.js 14에서 16까지: 실무 프로젝트 마이그레이션 기록\",\"className\":\"text-4xl font-bold mt-8 mb-4 text-foreground\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"배경\",\"className\":\"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"운영 중인 대규모 프로젝트(900개 이상 파일, 80개 이상 페이지)를 Next.js 14에서 16까지 단계적으로 업그레이드했다. React 18에서 19로, NextAuth v4에서 v5로의 전환도 함께 진행되었기에 단순한 버전 범프와는 거리가 멀었다.\",\"className\":\"my-4 leading-7 text-foreground/90\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"my-6 overflow-x-auto\",\"children\":[\"$\",\"table\",null,{\"className\":\"w-full border-collapse\",\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"패키지\",\"className\":\"border border-border px-4 py-2 text-left font-semibold\"}],[\"$\",\"th\",null,{\"children\":\"시작 버전\",\"className\":\"border border-border px-4 py-2 text-left font-semibold\"}],[\"$\",\"th\",null,{\"children\":\"중간 버전\",\"className\":\"border border-border px-4 py-2 text-left font-semibold\"}],[\"$\",\"th\",null,{\"children\":\"최종 버전\",\"className\":\"border border-border px-4 py-2 text-left font-semibold\"}]]}],\"className\":\"bg-muted\"}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"next\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"14.2.35\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"15.5.11\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"16.1.6\",\"className\":\"border border-border px-4 py-2\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"react\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"18.3.1\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"18.3.1\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"19.2.4\",\"className\":\"border border-border px-4 py-2\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"next-auth\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"4.x\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"4.x\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"5.0.0-beta.30\",\"className\":\"border border-border px-4 py-2\"}]]}]]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"업그레이드는 14→15→16 순서로 진행했다. 한 번에 두 메이저 버전을 건너뛰는 것은 위험하므로, 각 단계에서 빌드가 정상적으로 통과하는 것을 확인한 뒤 다음 단계로 넘어갔다. 이 글에서는 각 단계에서 만난 주요 변경사항과 대응 방법을 정리한다.\",\"className\":\"my-4 leading-7 text-foreground/90\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Phase 1: Next.js 14 → 15\",\"className\":\"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"의존성 정리\",\"className\":\"text-2xl font-semibold mt-5 mb-2 text-foreground\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"14 버전의 마지막 패치(14.2.35)로 먼저 올리면서 의존성을 정리했다. 보안 패치 적용과 함께 사용하지 않는 패키지를 제거하고, 누락된 의존성을 추가하는 작업을 선행했다. 업그레이드 전에 의존성을 깨끗하게 정리해두면 이후 단계에서 문제의 원인을 좁히기가 수월하다.\",\"className\":\"my-4 leading-7 text-foreground/90\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"Async Request API (Next.js 15의 핵심 변경)\",\"className\":\"text-2xl font-semibold mt-5 mb-2 text-foreground\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"15에서 가장 큰 변경은 \",[\"$\",\"code\",null,{\"children\":\"params\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\"와 \",[\"$\",\"code\",null,{\"children\":\"searchParams\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\"가 Promise로 변경된 것이다. \",[\"$\",\"strong\",null,{\"children\":\"173개 파일\",\"className\":\"font-semibold text-foreground\"}],\"이 영향을 받았다.\"],\"className\":\"my-4 leading-7 text-foreground/90\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\",\"children\":\"// Next.js 14\\nexport default function Page({ params }: { params: { id: string } }) {\\n  const { id } = params;\\n}\\n\\n// Next.js 15\\nexport default async function Page({\\n  params,\\n}: {\\n  params: Promise\u003c{ id: string }\u003e;\\n}) {\\n  const { id } = await params;\\n}\\n\"}],\"className\":\"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm\"}],\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\",\"\\n\",\"$L38\",\"\\n\",\"$L39\",\"\\n\",\"$L3a\",\"\\n\",\"$L3b\",\"\\n\",\"$L3c\",\"\\n\",\"$L3d\",\"\\n\",\"$L3e\",\"\\n\",\"$L3f\"]\n"])</script><script>self.__next_f.push([1,"1b:[\"$\",\"p\",null,{\"children\":\"다행히 Next.js에서 제공하는 codemod가 잘 동작했다. 수동으로 173개 파일을 수정할 생각을 하면 아찔하다.\",\"className\":\"my-4 leading-7 text-foreground/90\"}]\n1c:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\",\"children\":\"npx @next/codemod@latest async-request-api .\\n\"}],\"className\":\"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm\"}]\n1d:[\"$\",\"p\",null,{\"children\":\"codemod 적용 후 빌드를 확인하고, 15 버전에서의 안정성을 검증한 뒤 다음 단계로 넘어갔다.\",\"className\":\"my-4 leading-7 text-foreground/90\"}]\n1e:[\"$\",\"h2\",null,{\"children\":\"Phase 2: Next.js 15 → 16\",\"className\":\"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2\"}]\n1f:[\"$\",\"p\",null,{\"children\":\"이 단계에서 React 19와 NextAuth v5 전환이 함께 이루어졌다.\",\"className\":\"my-4 leading-7 text-foreground/90\"}]\n20:[\"$\",\"h3\",null,{\"children\":\"NextAuth v5 마이그레이션\",\"className\":\"text-2xl font-semibold mt-5 mb-2 text-foreground\"}]\n21:[\"$\",\"p\",null,{\"children\":[\"16 업그레이드에서 가장 영향 범위가 컸다. \",[\"$\",\"strong\",null,{\"children\":\"206개 파일\",\"className\":\"font-semibold text-foreground\"}],\"이 변경 대상이었다.\"],\"className\":\"my-4 leading-7 text-foreground/90\"}]\n22:[\"$\",\"h4\",null,{\"children\":\"파일 구조 변경\",\"className\":\"text-xl font-semibold mt-4 mb-2 text-foreground\"}]\n23:[\"$\",\"p\",null,{\"children\":[\"v4에서는 API route 내부에 인증 설정을 두었지만, v5에서는 \",[\"$\",\"code\",null,{\"children\":\"lib/\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\"로 분리하여 중앙화하는 구조로 바뀌었다.\"],\"className\":\"my-4 leading-7 text-foreground/90\"}]\n24:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"# v4\\napp/api/auth/[...nextauth]/auth-option.ts  → 삭제\\napp/api/auth/[...nextauth]/route.ts\\n\\n# v5\\nlib/auth.ts              # auth() 함수 export\\nlib/auth.config.ts       # NextAuth 설정\\napp/api/auth/[...nextauth]/route.ts\\n\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\"className\":\"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm\"}]\n25:[\"$\",\"h4\",null,{\"children\":\"세션 조회 방식 변경\",\"className\":\"text-xl font-semibold mt-4 mb-2 text-foreground\"}]\n26:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"getServerSession(authOptions)\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\"를 호출하던 모든 곳을 \",[\"$\",\"code\",null,{\"children\":\"auth()\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\"로 교체해야 한다. 함수명이 짧아진 것은 좋지만, 206개 파일을 수정하는 것은 단순 반복 작업이었다.\"],\"className\":\"my-4 leading-7 text-foreground/90\"}]\n27:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\",\"children\":\"// v4\\nimport { getServerSession } from \\\"next-auth\\\";\\nimport { authOptions } from \\\"@/app/api/auth/[...nextauth]/auth-option\\\";\\nconst session = await getServerSession(authOptions);\\n\\n// v5\\nimport { auth } from \\\"@/lib/auth\\\";\\nconst session = await auth();\\n\"}],\"className\":\"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm\"}]\n28:[\"$\",\"h4\",null,{\"children\":\"route.ts 변경\",\"className\":\"text-xl font-semibold mt-4 mb-2 text-foreground\"}]\n29:[\"$\",\"p\",null,{\"children\":\"route handler도 간결해졌다.\",\"className\":\"my-4 leading-7 text-foreground/90\"}]\n2a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\",\"children\":\"// v4\\nimport NextAuth from \\\"next-auth\\\";\\nimport { authOptions } from \\\"./auth-option\\\";\\nconst handler = NextAuth(authOptions);\\nexport { handler as GET, handler as POST };\\n\\n// v5\\nimport { handlers } from \\\"@/lib/auth\\\";\\nexport const { GET, POST } = handlers;\\n\"}],\"className\":\"bg-muted p-4 rounded-lg"])</script><script>self.__next_f.push([1," overflow-x-auto my-4 font-mono text-sm\"}]\n2b:[\"$\",\"p\",null,{\"children\":\"설정이 중앙화되면서 코드 자체는 깔끔해졌으나, 전환 과정의 작업량이 상당했다. IDE의 전체 검색과 일괄 치환에 크게 의존했다.\",\"className\":\"my-4 leading-7 text-foreground/90\"}]\n2c:[\"$\",\"h3\",null,{\"children\":\"middleware.ts → proxy.ts\",\"className\":\"text-2xl font-semibold mt-5 mb-2 text-foreground\"}]\n2d:[\"$\",\"p\",null,{\"children\":[\"Next.js 16에서 middleware 파일명이 \",[\"$\",\"code\",null,{\"children\":\"proxy.ts\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\"로 변경되었다. 파일명 하나만 바꾸면 되지만, 모르면 한참 헤맬 수 있는 변경이다.\"],\"className\":\"my-4 leading-7 text-foreground/90\"}]\n2e:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"이전: middleware.ts\\n현재: proxy.ts\\n\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\"className\":\"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm\"}]\n2f:[\"$\",\"h3\",null,{\"children\":\"React 19 타입 호환성\",\"className\":\"text-2xl font-semibold mt-5 mb-2 text-foreground\"}]\n30:[\"$\",\"h4\",null,{\"children\":\"useRef 타입 변경\",\"className\":\"text-xl font-semibold mt-4 mb-2 text-foreground\"}]\n31:[\"$\",\"p\",null,{\"children\":[\"React 19에서 \",[\"$\",\"code\",null,{\"children\":\"useRef\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\"의 타입 시그니처가 변경되었다.\"],\"className\":\"my-4 leading-7 text-foreground/90\"}]\n32:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\",\"children\":\"// 이전\\nconst ref = useRef\u003cHTMLDivElement\u003e(null);\\n\\n// 현재 (React 19)\\nconst ref = useRef\u003cHTMLDivElement | null\u003e(null);\\n\"}],\"className\":\"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm\"}]\n33:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"null\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\"을 유니온으로 명시해야 한다. 빌드 시 타입 에러로 잡히기 때문에 놓칠 일은 없지만, 수정해야 할 곳이 적지 않았다.\"],\"className\":\"my-4 leading-7 text-foreground/90\"}]\n34:[\"$\",\"h3\",null,{\"children\":\"SVG Import 변경\",\"className\":\"text-2xl font-semibold mt-5 mb-2 text-foreground\"}]\n35:[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"@svgr/webpack\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\"이 Turbopack과 호환되지 않는 문제가 있었다. SVG 파일을 TSX 컴포넌트로 직접 변환하는 방식으로 우회했다.\"],\"className\":\"my-4 leading-7 text-foreground/90\"}]\n36:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\",\"children\":\"// 이전\\nimport AlarmIcon from \\\"@/assets/icons/svg/alarm.svg\\\";\\n\\n// 현재\\nimport AlarmIcon from \\\"@/assets/icons/svg/alarm\\\";\\n// alarm.tsx 파일로 변환\\n\"}],\"className\":\"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm\"}]\n37:[\"$\",\"p\",null,{\"children\":\"9개 파일에서 사용 중이던 SVG를 모두 TSX 컴포넌트로 변환했다. 번거롭지만 Turbopack의 빌드 속도를 고려하면 합리적인 선택이었다.\",\"className\":\"my-4 leading-7 text-foreground/90\"}]\n38:[\"$\",\"h3\",null,{\"children\":\"next.config.mjs 변경\",\"className\":\"text-2xl font-semibold mt-5 mb-2 text-foreground\"}]\n39:[\"$\",\"p\",null,{\"children\":[\"Next.js 16에서 ESLint 관련 설정이 제거되었다. 기존에 \",[\"$\",\"code\",null,{\"children\":\"eslint.ignoreDuringBuilds\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\" 옵션을 사용하고 있었다면 해당 설정을 삭제해야 한다.\"],\"className\":\"my-4 leading-7 text-foreground/90\"}]\n3a:[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\",\"children\":\"// 이전\\nconst nextConfig = {\\n  eslint: {\\n    ignoreDuringBuilds: true,\\n  },\\n};\\n\\n// 현재: eslint 설"])</script><script>self.__next_f.push([1,"정 제거\\n\"}],\"className\":\"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm\"}]\n3b:[\"$\",\"h2\",null,{\"children\":\"정리\",\"className\":\"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2\"}]\n3c:[\"$\",\"p\",null,{\"children\":\"14에서 16까지, 두 번의 메이저 업그레이드에서 수정된 파일 수를 정리하면 다음과 같다.\",\"className\":\"my-4 leading-7 text-foreground/90\"}]\n"])</script><script>self.__next_f.push([1,"3d:[\"$\",\"div\",null,{\"className\":\"my-6 overflow-x-auto\",\"children\":[\"$\",\"table\",null,{\"className\":\"w-full border-collapse\",\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"children\":\"단계\",\"className\":\"border border-border px-4 py-2 text-left font-semibold\"}],[\"$\",\"th\",null,{\"children\":\"변경 항목\",\"className\":\"border border-border px-4 py-2 text-left font-semibold\"}],[\"$\",\"th\",null,{\"children\":\"영향 파일 수\",\"className\":\"border border-border px-4 py-2 text-left font-semibold\"}]]}],\"className\":\"bg-muted\"}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"14 → 15\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"Async Request API (codemod)\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"173개\",\"className\":\"border border-border px-4 py-2\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"15 → 16\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"NextAuth v5 전환\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"206개\",\"className\":\"border border-border px-4 py-2\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"15 → 16\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"React 19 타입 호환성\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"-\",\"className\":\"border border-border px-4 py-2\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"children\":\"15 → 16\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"SVG Import 변환\",\"className\":\"border border-border px-4 py-2\"}],[\"$\",\"td\",null,{\"children\":\"9개\",\"className\":\"border border-border px-4 py-2\"}]]}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"3e:[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"핵심 교훈\",\"className\":\"font-semibold text-foreground\"}],\":\"],\"className\":\"my-4 leading-7 text-foreground/90\"}]\n3f:[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"메이저 버전을 여러 단계 건너뛸 때는 반드시 한 단계씩 올려야 한다. 각 단계에서 빌드 확인 후 다음으로 넘어가야 문제의 원인을 좁힐 수 있다.\",\"className\":\"text-foreground/90 leading-7\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"업그레이드 전 의존성 정리를 선행하면, 이후 발생하는 오류가 버전 변경 때문인지 기존 문제인지 구분이 명확해진다.\",\"className\":\"text-foreground/90 leading-7\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"codemod가 제공되는 변경사항은 적극적으로 활용하는 것이 좋다. Async Request API의 173개 파일 수정은 codemod 없이는 현실적으로 힘들었을 것이다.\",\"className\":\"text-foreground/90 leading-7\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"파일명 변경(\",[\"$\",\"code\",null,{\"children\":\"middleware.ts\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\" → \",[\"$\",\"code\",null,{\"children\":\"proxy.ts\",\"className\":\"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground\"}],\")처럼 사소하지만 치명적인 변경은 릴리즈 노트를 꼼꼼히 읽어야만 발견할 수 있다.\"],\"className\":\"text-foreground/90 leading-7\"}],\"\\n\"],\"className\":\"my-4 ml-6 list-disc space-y-2\"}]\n"])</script></body></html>