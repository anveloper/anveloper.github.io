1:"$Sreact.fragment"
2:I[28739,["/_next/static/chunks/032ac46945970232.js","/_next/static/chunks/44aea766f6f80a25.js","/_next/static/chunks/fec9c5c27cbc91d6.js"],"Providers"]
3:I[63720,["/_next/static/chunks/032ac46945970232.js","/_next/static/chunks/44aea766f6f80a25.js","/_next/static/chunks/fec9c5c27cbc91d6.js"],"NavBar"]
4:I[25270,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"default"]
5:I[85455,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"default"]
6:I[53013,["/_next/static/chunks/032ac46945970232.js","/_next/static/chunks/44aea766f6f80a25.js","/_next/static/chunks/fec9c5c27cbc91d6.js"],"default"]
8:I[95276,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"OutletBoundary"]
9:"$Sreact.suspense"
d:I[7871,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"default"]
:HL["/_next/static/chunks/2fa0ba0e22870313.css","style"]
0:{"P":null,"b":"8U6zZJdP3QEsZKAq7ZyqG","c":["","posts","multi-tenant-saas-architecture"],"q":"","i":false,"f":[[["",{"children":["posts",{"children":[["slug","multi-tenant-saas-architecture","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/2fa0ba0e22870313.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","script","script-0",{"src":"/_next/static/chunks/032ac46945970232.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/_next/static/chunks/44aea766f6f80a25.js","async":true,"nonce":"$undefined"}],["$","script","script-2",{"src":"/_next/static/chunks/fec9c5c27cbc91d6.js","async":true,"nonce":"$undefined"}]],["$","html",null,{"lang":"ko","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","script",null,{"dangerouslySetInnerHTML":{"__html":"\n  (function() {\n    try {\n      var theme = localStorage.getItem('theme');\n      if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {\n        document.documentElement.classList.add('dark');\n      } else {\n        document.documentElement.classList.remove('dark');\n      }\n    } catch (e) {}\n  })();\n"}}],["$","link",null,{"rel":"shortcut icon","href":"/favicon-light.svg"}],["$","link",null,{"rel":"icon","href":"/favicon-light.svg"}],["$","link",null,{"rel":"apple-touch-icon","href":"/favicon-light.svg"}]]}],["$","body",null,{"className":"min-h-screen flex flex-col bg-background text-foreground antialiased","children":[["$","$L2",null,{"children":[["$","$L3",null,{}],["$","main",null,{"className":"flex-1 flex flex-col","children":["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],["$","$L6",null,{}]]}]]}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":["$L7",[["$","script","script-0",{"src":"/_next/static/chunks/bf98b467f5036c3d.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/_next/static/chunks/948615c9ecde1cb4.js","async":true,"nonce":"$undefined"}],["$","script","script-2",{"src":"/_next/static/chunks/c84805df17f0a72a.js","async":true,"nonce":"$undefined"}],["$","script","script-3",{"src":"/_next/static/chunks/0e5a02cd06292d2b.js","async":true,"nonce":"$undefined"}],["$","script","script-4",{"src":"/_next/static/chunks/85806e5b63a62879.js","async":true,"nonce":"$undefined"}],["$","script","script-5",{"src":"/_next/static/chunks/f87ca1afb6e89cb0.js","async":true,"nonce":"$undefined"}],["$","script","script-6",{"src":"/_next/static/chunks/311bfda68bef2673.js","async":true,"nonce":"$undefined"}],["$","script","script-7",{"src":"/_next/static/chunks/e1a9aaa3e8d4ba89.js","async":true,"nonce":"$undefined"}],["$","script","script-8",{"src":"/_next/static/chunks/8fba60bd4135542a.js","async":true,"nonce":"$undefined"}]],["$","$L8",null,{"children":["$","$9",null,{"name":"Next.MetadataOutlet","children":"$@a"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},["$Lb",[],[]],false,false],"$Lc",false]],"m":"$undefined","G":["$d",[]],"S":true}
e:I[95276,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"ViewportBoundary"]
10:I[95276,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"MetadataBoundary"]
b:["$","svg","l",{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-loader h-11 w-11 absolute m-auto top-0 bottom-0 right-0 left-0 animate-spin text-muted-foreground z-50","aria-hidden":"true","children":[["$","path","3427ic",{"d":"M12 2v4"}],["$","path","r700ao",{"d":"m16.2 7.8 2.9-2.9"}],["$","path","wj9ykh",{"d":"M18 12h4"}],["$","path","1bxg5t",{"d":"m16.2 16.2 2.9 2.9"}],["$","path","jadmvz",{"d":"M12 18v4"}],["$","path","bwix9q",{"d":"m4.9 19.1 2.9-2.9"}],["$","path","j09sii",{"d":"M2 12h4"}],["$","path","giyufr",{"d":"m4.9 4.9 2.9 2.9"}],"$undefined"]}]
c:["$","$1","h",{"children":[null,["$","$Le",null,{"children":"$Lf"}],["$","div",null,{"hidden":true,"children":["$","$L10",null,{"children":["$","$9",null,{"name":"Next.Metadata","children":"$L11"}]}]}],null]}]
f:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
12:I[66627,["/_next/static/chunks/032ac46945970232.js","/_next/static/chunks/44aea766f6f80a25.js","/_next/static/chunks/fec9c5c27cbc91d6.js","/_next/static/chunks/bf98b467f5036c3d.js","/_next/static/chunks/948615c9ecde1cb4.js","/_next/static/chunks/c84805df17f0a72a.js","/_next/static/chunks/0e5a02cd06292d2b.js","/_next/static/chunks/85806e5b63a62879.js","/_next/static/chunks/f87ca1afb6e89cb0.js","/_next/static/chunks/311bfda68bef2673.js","/_next/static/chunks/e1a9aaa3e8d4ba89.js","/_next/static/chunks/8fba60bd4135542a.js"],"TableOfContents"]
13:I[51506,["/_next/static/chunks/032ac46945970232.js","/_next/static/chunks/44aea766f6f80a25.js","/_next/static/chunks/fec9c5c27cbc91d6.js","/_next/static/chunks/bf98b467f5036c3d.js","/_next/static/chunks/948615c9ecde1cb4.js","/_next/static/chunks/c84805df17f0a72a.js","/_next/static/chunks/0e5a02cd06292d2b.js","/_next/static/chunks/85806e5b63a62879.js","/_next/static/chunks/f87ca1afb6e89cb0.js","/_next/static/chunks/311bfda68bef2673.js","/_next/static/chunks/e1a9aaa3e8d4ba89.js","/_next/static/chunks/8fba60bd4135542a.js"],""]
7:["$","div",null,{"className":"pt-28 pb-8 px-6 sm:px-8 md:px-12 lg:px-16 md:pt-20 min-h-screen bg-[radial-gradient(oklch(0.5_0_0/15%)_1px,transparent_1px)] bg-size-[20px_20px]","children":["$","div",null,{"className":"w-full max-w-4xl mx-auto","children":[["$","$L12",null,{"items":[{"id":"배경","text":"배경","level":2},{"id":"테넌트-식별-3가지-도메인-전략","text":"테넌트 식별: 3가지 도메인 전략","level":2},{"id":"데이터-저장-전략-외부-api-의존","text":"데이터 저장 전략: 외부 API 의존","level":2},{"id":"db-스키마-16개-테이블","text":"DB 스키마: 16개 테이블","level":2},{"id":"3가지-테넌트-타입","text":"3가지 테넌트 타입","level":2},{"id":"고정형-fixed","text":"고정형 (FIXED)","level":3},{"id":"자유형-flexible","text":"자유형 (FLEXIBLE)","level":3},{"id":"생성형-generative","text":"생성형 (GENERATIVE)","level":3},{"id":"설정값-정규화-중복을-잡아라","text":"설정값 정규화: 중복을 잡아라","level":2},{"id":"페이지-시스템-8개-타입-동적-네비게이션","text":"페이지 시스템: 8개 타입, 동적 네비게이션","level":2},{"id":"마무리","text":"마무리","level":2}]}],["$","$L13",null,{"href":"/posts","className":"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-6","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-arrow-left w-4 h-4","aria-hidden":"true","children":[["$","path","1l729n",{"d":"m12 19-7-7 7-7"}],["$","path","x3x0zl",{"d":"M19 12H5"}],"$undefined"]}],["$","span",null,{"children":"포스트 목록으로 돌아가기"}]]}],["$","div",null,{"ref":"$undefined","className":"rounded-lg border border-border bg-card text-card-foreground shadow-sm mb-8","children":["$","div",null,{"ref":"$undefined","className":"p-6 pt-6","children":[["$","h1",null,{"className":"text-3xl sm:text-4xl font-bold text-foreground mb-4","children":"멀티테넌트 SaaS 아키텍처 설계기 — DPS Store"}],["$","div",null,{"className":"flex flex-wrap items-center gap-4 mb-4","children":["$","div",null,{"className":"flex items-center gap-2 text-muted-foreground","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-calendar w-4 h-4","aria-hidden":"true","children":[["$","path","1cmpym",{"d":"M8 2v4"}],["$","path","4m81vk",{"d":"M16 2v4"}],["$","rect","1hopcy",{"width":"18","height":"18","x":"3","y":"4","rx":"2"}],["$","path","8toen8",{"d":"M3 10h18"}],"$undefined"]}],["$","span",null,{"children":"2026-01-12"}]]}]}],["$","div",null,{"className":"flex flex-wrap gap-2","children":[["$","div","Architecture",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky","children":"Architecture"}],["$","div","Multi-tenant",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky","children":"Multi-tenant"}],["$","div","Next.js",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky","children":"Next.js"}],["$","div","Prisma",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky","children":"Prisma"}],["$","div","SaaS",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky","children":"SaaS"}]]}]]}]}],["$","article",null,{"className":"prose prose-neutral dark:prose-invert max-w-none","children":"$L14"}]]}]}]
a:null
11:[["$","title","0",{"children":"멀티테넌트 SaaS 아키텍처 설계기 — DPS Store | 안성진"}],["$","meta","1",{"name":"description","content":"테넌트별 독립 스토어를 운영하는 팝업 스토어 플랫폼의 멀티테넌트 아키텍처 설계 과정"}],["$","meta","2",{"name":"keywords","content":"Architecture,Multi-tenant,Next.js,Prisma,SaaS"}],["$","meta","3",{"name":"robots","content":"index, follow"}],["$","meta","4",{"property":"og:title","content":"멀티테넌트 SaaS 아키텍처 설계기 — DPS Store"}],["$","meta","5",{"property":"og:description","content":"테넌트별 독립 스토어를 운영하는 팝업 스토어 플랫폼의 멀티테넌트 아키텍처 설계 과정"}],["$","meta","6",{"property":"og:url","content":"https://anveloper.dev/posts/multi-tenant-saas-architecture"}],["$","meta","7",{"property":"og:type","content":"article"}],["$","meta","8",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","9",{"name":"twitter:title","content":"멀티테넌트 SaaS 아키텍처 설계기 — DPS Store"}],["$","meta","10",{"name":"twitter:description","content":"테넌트별 독립 스토어를 운영하는 팝업 스토어 플랫폼의 멀티테넌트 아키텍처 설계 과정"}]]
14:[["$","h1",null,{"id":"멀티테넌트-saas-아키텍처-설계기","children":"멀티테넌트 SaaS 아키텍처 설계기","className":"text-4xl font-bold mt-10 mb-5 text-foreground"}],"\n",["$","h2",null,{"id":"배경","children":"배경","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}],"\n",["$","p",null,{"children":"팝업 스토어 플랫폼을 만들면서, 업체(테넌트)별로 완전히 독립된 온라인 스토어를 운영할 수 있는 시스템이 필요했다. 단순히 데이터만 분리하는 것이 아니라, 테넌트마다 도메인, 테마, 페이지 레이아웃, 약관, 폰트까지 커스터마이징할 수 있어야 했다.","className":"my-5 leading-7 text-foreground/90"}],"\n",["$","p",null,{"children":"여기에 기존 DPS(디자인플러그) API와 연동하여 상품·주문 정보를 실시간으로 동기화해야 하는 요구사항도 있었다. 이 글에서는 이 시스템의 멀티테넌트 아키텍처를 어떻게 설계했는지 정리한다.","className":"my-5 leading-7 text-foreground/90"}],"\n",["$","h2",null,{"id":"테넌트-식별-3가지-도메인-전략","children":"테넌트 식별: 3가지 도메인 전략","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}],"\n",["$","p",null,{"children":"멀티테넌트 시스템의 첫 번째 과제는 \"요청이 어느 테넌트의 것인지 어떻게 알 것인가\"다. 세 가지 접근 방식을 지원하기로 했다.","className":"my-5 leading-7 text-foreground/90"}],"\n",["$","div",null,{"className":"my-8 overflow-x-auto bg-card rounded-lg border border-border","children":["$","table",null,{"className":"w-full border-collapse","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"방식","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}],["$","th",null,{"children":"예시","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}],["$","th",null,{"children":"특징","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}]]}],"className":"bg-muted"}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"경로","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"store.example.com/acme"}]}]}]}],"className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"가장 간단, 기본 제공","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"서브도메인","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"acme.mystore.app"}]}]}]}],"className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"테넌트별 독립 URL","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"커스텀 도메인","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"shop.acme.com"}]}]}]}],"className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"테넌트가 직접 등록","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}]]}]]}]}],"\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f"]
40:I[63508,["/_next/static/chunks/032ac46945970232.js","/_next/static/chunks/44aea766f6f80a25.js","/_next/static/chunks/fec9c5c27cbc91d6.js","/_next/static/chunks/bf98b467f5036c3d.js","/_next/static/chunks/948615c9ecde1cb4.js","/_next/static/chunks/c84805df17f0a72a.js","/_next/static/chunks/0e5a02cd06292d2b.js","/_next/static/chunks/85806e5b63a62879.js","/_next/static/chunks/f87ca1afb6e89cb0.js","/_next/static/chunks/311bfda68bef2673.js","/_next/static/chunks/e1a9aaa3e8d4ba89.js","/_next/static/chunks/8fba60bd4135542a.js"],"Mermaid"]
15:["$","p",null,{"children":"이를 Prisma 스키마에서는 다음과 같이 표현했다.","className":"my-5 leading-7 text-foreground/90"}]
16:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"prisma","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"prisma","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"model"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" Tenant"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"  tenantName "}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"String"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"  @unique"}],["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"  // 경로/서브도메인 식별"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"  domain     "}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"String"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" @unique"}],["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"  // 커스텀 도메인 식별"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}],"className":"not-prose my-6"}]
17:["$","p",null,{"children":["Next.js 16의 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"proxy.ts"}]}]}]}],"에서 Host 헤더를 분석하여 서브도메인과 커스텀 도메인 요청을 경로 기반으로 rewrite한다. 이렇게 하면 애플리케이션 내부에서는 항상 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"/[tenant]/..."}]}]}]}]," 경로 패턴으로 통일되어 처리할 수 있다."],"className":"my-5 leading-7 text-foreground/90"}]
18:["$","h2",null,{"id":"데이터-저장-전략-외부-api-의존","children":"데이터 저장 전략: 외부 API 의존","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
19:["$","p",null,{"children":"이 시스템의 가장 큰 특징은 상품·주문 정보를 자체 DB에 저장하지 않는다는 점이다.","className":"my-5 leading-7 text-foreground/90"}]
1a:["$","$L40",null,{"chart":"flowchart LR\n  Client[클라이언트] <--> Store[DPS Store]\n  Store <--> API[DPS API]\n  Store <--> DB[&quot;MariaDB\\n(설정/참조 정보만)&quot;]"}]
1b:["$","p",null,{"children":"DB에는 테넌트 설정, 페이지 레이아웃, 고객 정보, 장바구니, 주문 메타데이터만 저장하고, 상품명·가격·이미지 같은 실제 상품 정보는 DPS API에서 실시간으로 조회한다.","className":"my-5 leading-7 text-foreground/90"}]
1c:["$","p",null,{"children":"단, 주문 시점의 상품명과 가격은 스냅샷으로 저장한다. 나중에 상품 정보가 바뀌더라도 주문 당시의 정보를 보존하기 위해서다.","className":"my-5 leading-7 text-foreground/90"}]
1d:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"prisma","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"prisma","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"model"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" OrderItem"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"  dpsProductSeqno "}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"Int"}],["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"     // DPS 상품 참조키"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"  productName     "}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"String"}],["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"  // 주문 시점 스냅샷"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"  unitPrice       "}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"Int"}],["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"     // 주문 시점 스냅샷"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}],"className":"not-prose my-6"}]
1e:["$","h2",null,{"id":"db-스키마-16개-테이블","children":"DB 스키마: 16개 테이블","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
1f:["$","p",null,{"children":"전체 스키마는 16개 테이블로 구성된다. 핵심 관계를 요약하면 다음과 같다.","className":"my-5 leading-7 text-foreground/90"}]
20:["$","$L40",null,{"chart":"graph TD\n  Tenant[Tenant 테넌트]\n  Tenant --> Theme[Theme 테마]\n  Tenant --> Page[Page 페이지]\n  Page --> PageFile[PageFile N:N]\n  Tenant --> Product[Product 상품 설정]\n  Product --> ProductCategory[ProductCategory N:N]\n  Product --> ProductDisplay[ProductDisplay N:N]\n  Tenant --> Category[Category 카테고리]\n  Tenant --> Display[Display 전시]\n  Tenant --> Terms[Terms 약관]\n  Tenant --> TenantFont[TenantFont N:N]\n  Tenant --> Cart[Cart 장바구니]\n  Cart --> CartItem[CartItem]\n  Tenant --> Order[Order 주문]\n  Order --> OrderItem[OrderItem]\n  Tenant --> File[File 파일]\n\n  Customer[Customer 고객]\n  Customer --> Cart\n  Customer --> Order\n  Customer --> CustomerConsent[CustomerConsent 약관 동의]"}]
21:["$","p",null,{"children":["테넌트별 데이터 격리는 모든 주요 테이블에 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"tenantId"}]}]}]}]," 외래키를 통해 구현했다."],"className":"my-5 leading-7 text-foreground/90"}]
22:["$","h2",null,{"id":"3가지-테넌트-타입","children":"3가지 테넌트 타입","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
23:["$","p",null,{"children":"테넌트가 스토어 페이지를 구성하는 방식을 세 가지로 분류했다.","className":"my-5 leading-7 text-foreground/90"}]
24:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"prisma","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"prisma","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"enum"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" TenantType"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"  FIXED      "}],["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"// 고정형: 미리 정의된 레이아웃"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"  FLEXIBLE   "}],["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"// 자유형: 노드 기반 비주얼 빌더"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"  GENERATIVE "}],["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"// 생성형: AI 자동 생성 (준비 중)"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}],"className":"not-prose my-6"}]
25:["$","h3",null,{"id":"고정형-fixed","children":"고정형 (FIXED)","className":"text-2xl font-semibold mt-8 mb-3 text-foreground"}]
26:["$","p",null,{"children":["미리 정의된 레이아웃 구조 위에 콘텐츠와 스타일만 커스터마이징하는 방식이다. 각 페이지의 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"layoutConfig"}]}]}]}],"(JSON)에 텍스트, 이미지, 표시 여부 등을 설정하고, ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"styleConfig"}]}]}]}],"(JSON)에 색상, 크기 등 스타일을 설정한다."],"className":"my-5 leading-7 text-foreground/90"}]
27:["$","p",null,{"children":"요소의 배치 순서나 섹션 구조는 코드에서 고정되어 있으므로, 비개발자도 쉽게 스토어를 구성할 수 있다.","className":"my-5 leading-7 text-foreground/90"}]
28:["$","h3",null,{"id":"자유형-flexible","children":"자유형 (FLEXIBLE)","className":"text-2xl font-semibold mt-8 mb-3 text-foreground"}]
29:["$","p",null,{"children":["노드 기반 비주얼 빌더로 페이지를 자유롭게 구성하는 방식이다. ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"layoutConfig"}]}]}]}],"에 UINode 트리를 JSON으로 저장하며, WYSIWYG 에디터에서 드래그앤드롭으로 편집한다."],"className":"my-5 leading-7 text-foreground/90"}]
2a:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"typescript","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"// v2.0 노드 기반 레이아웃"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"interface"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" NodeLayoutConfig"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  rootNode"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" UINode"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  metadata"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" { "}],["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"version"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" \"2.0\""}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" };"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}],"className":"not-prose my-6"}]
2b:["$","p",null,{"children":["렌더링 시에는 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"FlexiblePageRenderer"}]}]}]}],"에서 자동으로 버전을 감지하여 적절한 렌더러를 사용한다."],"className":"my-5 leading-7 text-foreground/90"}]
2c:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"typescript","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"isNodeLayoutConfig"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"(layoutConfig)) {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"  return"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" <"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"RootNodeRenderer"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" config"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"={"}],["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"layoutConfig"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"} />;"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]]}]}],"className":"not-prose my-6"}]
2d:["$","h3",null,{"id":"생성형-generative","children":"생성형 (GENERATIVE)","className":"text-2xl font-semibold mt-8 mb-3 text-foreground"}]
2e:["$","p",null,{"children":"AI가 브랜드와 니즈에 맞게 페이지를 자동 생성하는 방식으로, 현재 준비 중이다.","className":"my-5 leading-7 text-foreground/90"}]
2f:["$","h2",null,{"id":"설정값-정규화-중복을-잡아라","children":"설정값 정규화: 중복을 잡아라","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
30:["$","p",null,{"children":"8개 페이지 타입을 구현하다 보니 설정값 중복이 심각해졌다. 배송비 정책은 CART와 ORDER_FORM에 중복되고, 디바이스 스케일은 모든 페이지에 반복되었다.","className":"my-5 leading-7 text-foreground/90"}]
31:["$","p",null,{"children":"이를 해결하기 위해 설정값을 3계층으로 분리했다.","className":"my-5 leading-7 text-foreground/90"}]
32:["$","div",null,{"className":"my-8 overflow-x-auto bg-card rounded-lg border border-border","children":["$","table",null,{"className":"w-full border-collapse","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"계층","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}],["$","th",null,{"children":"저장 위치","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}],["$","th",null,{"children":"항목","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}]]}],"className":"bg-muted"}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"정책","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"Tenant.policyConfig"}]}]}]}],"className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"배송비 정책, 주문 흐름, 인증/약관 정책","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"공통 스타일","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"Theme.commonStyleConfig"}]}]}]}],"className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"로고 크기, 배경색, 디바이스 스케일, 버튼 스타일","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"페이지별","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"Page.layoutConfig/styleConfig"}]}]}]}],"className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"텍스트, 이미지, 페이지 고유 스타일","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}]]}]]}]}]
33:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"typescript","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"interface"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" TenantPolicyConfig"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  deliveryPolicy"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?:"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" \"combined\""}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" |"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" \"individual\""}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" |"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" \"free\""}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" |"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" \"freeOver\""}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  freeDeliveryThreshold"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?:"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" number"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  afterAddAction"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?:"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" \"ask\""}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" |"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" \"cart\""}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" |"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" \"order\""}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  showShippingForm"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?:"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" boolean"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  requireVerification"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?:"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" boolean"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  sessionTimeout"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?:"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" number"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"interface"}],"$L41","$L42"]}],"\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48"]}]}],"className":"not-prose my-6"}]
34:["$","p",null,{"children":["페이지별 스타일에서 공통 스타일을 참조할 때는 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"useDefault"}]}]}]}]," 플래그를 사용한다."],"className":"my-5 leading-7 text-foreground/90"}]
35:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"typescript","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"// useResolvedBackground 훅"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" (styleConfig.useDefaultBackground) {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"  return"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" commonStyleConfig.defaultBackgroundColor;"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"return"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" styleConfig.backgroundColor;"}]]}]]}]}],"className":"not-prose my-6"}]
36:["$","p",null,{"children":"이 패턴으로 중복 설정을 제거하면서도, 필요한 경우 페이지별로 오버라이드할 수 있는 유연성을 유지했다.","className":"my-5 leading-7 text-foreground/90"}]
37:["$","h2",null,{"id":"페이지-시스템-8개-타입-동적-네비게이션","children":"페이지 시스템: 8개 타입, 동적 네비게이션","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
38:["$","p",null,{"children":"스토어의 고객 플로우를 8개 페이지 타입으로 정의했다.","className":"my-5 leading-7 text-foreground/90"}]
39:["$","$L40",null,{"chart":"flowchart LR\n  HERO --> SIGNUP --> PRODUCT_LIST --> OPTION_SELECT --> CART --> ORDER_FORM --> ORDER_RESULT --> MY_PAGE"}]
3a:["$","p",null,{"children":"각 페이지는 활성화/비활성화가 가능하며, 비활성화된 페이지는 자동으로 건너뛴다. 예를 들어 CART를 비활성화하면 상품 선택 후 바로 주문으로 넘어가는 빠른 주문 플로우가 된다.","className":"my-5 leading-7 text-foreground/90"}]
3b:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"typescript","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"// lib/navigation/page-flow.ts"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"function"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" getNextPage"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"current"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" PageType"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"activePages"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" Set"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"<"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"PageType"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":">)"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" PageType"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" flow"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" ["}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"HERO"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"SIGNUP"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"PRODUCT_LIST"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"OPTION_SELECT"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"CART"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"ORDER_FORM"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"ORDER_RESULT"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"];"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" currentIndex"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" flow."}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"indexOf"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"(current);"}]]}],"\n",["$","span",null,{"data-line":"","children":["$L49","$L4a","$L4b","$L4c","$L4d","$L4e","$L4f","$L50","$L51","$L52","$L53","$L54","$L55","$L56","$L57"]}],"\n","$L58","\n","$L59","\n","$L5a","\n","$L5b"]}]}],"className":"not-prose my-6"}]
3c:["$","h2",null,{"id":"마무리","children":"마무리","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
3d:["$","p",null,{"children":"이 아키텍처의 핵심은 \"테넌트별 격리\"와 \"유연한 커스터마이징\" 사이의 균형이다. 도메인 식별, 데이터 저장, 페이지 구성, 설정 관리 각 영역에서 테넌트의 독립성을 보장하면서도, 공통 로직은 재사용할 수 있는 구조를 만들었다.","className":"my-5 leading-7 text-foreground/90"}]
3e:["$","p",null,{"children":"외부 API 의존 전략은 데이터 일관성 유지에 신경 쓸 부분이 있지만, 상품 정보를 이중으로 관리할 필요가 없어 시스템이 훨씬 간결해졌다. 주문 시점 스냅샷과 양방향 동기화로 데이터 정합성 문제를 해결했다.","className":"my-5 leading-7 text-foreground/90"}]
3f:["$","p",null,{"children":"설정값 정규화는 처음부터 설계하기보다, 구현하면서 중복을 발견하고 3계층으로 분리하는 과정을 거쳤다. \"일단 만들고, 패턴을 발견하면 정리한다\"는 접근이 실용적이었다.","className":"my-5 leading-7 text-foreground/90"}]
41:["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" CommonStyleConfig"}]
42:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" {"}]
43:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  logoSizePreset"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?:"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" LogoSizePreset"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}]
44:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  defaultBackgroundColor"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?:"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" string"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}]
45:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  deviceScale"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?:"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" DeviceScale"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}]
46:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  primaryButton"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?:"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" ButtonStyleConfig"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}]
47:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"  headerIcon"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"?:"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" HeaderIconStyle"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}]
48:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]
49:["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"  for"}]
4a:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}]
4b:["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"let"}]
4c:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" i "}]
4d:["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"="}]
4e:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" currentIndex "}]
4f:["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"+"}]
50:["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" 1"}]
51:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"; i "}]
52:["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"<"}]
53:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" flow."}]
54:["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":"length"}]
55:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"; i"}]
56:["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"++"}]
57:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":") {"}]
58:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"    if"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" (activePages."}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"has"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"(flow[i])) "}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"return"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" flow[i];"}]]}]
59:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"  }"}]}]
5a:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"  return"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" ORDER_RESULT"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}]
5b:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]
