1:"$Sreact.fragment"
2:I[28739,["/_next/static/chunks/24ec601050a34de4.js","/_next/static/chunks/44aea766f6f80a25.js","/_next/static/chunks/f0d2ef03bc5b3146.js"],"Providers"]
3:I[63720,["/_next/static/chunks/24ec601050a34de4.js","/_next/static/chunks/44aea766f6f80a25.js","/_next/static/chunks/f0d2ef03bc5b3146.js"],"NavBar"]
4:I[25270,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"default"]
5:I[85455,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"default"]
6:I[53013,["/_next/static/chunks/24ec601050a34de4.js","/_next/static/chunks/44aea766f6f80a25.js","/_next/static/chunks/f0d2ef03bc5b3146.js"],"default"]
8:I[95276,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"OutletBoundary"]
9:"$Sreact.suspense"
14:I[7871,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"default"]
:HL["/_next/static/chunks/d00d57982c625756.css","style"]
0:{"P":null,"b":"xtL-OUEB20H71FD7GVs3v","c":["","posts","node-based-page-builder"],"q":"","i":false,"f":[[["",{"children":["posts",{"children":[["slug","node-based-page-builder","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/d00d57982c625756.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","script","script-0",{"src":"/_next/static/chunks/24ec601050a34de4.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/_next/static/chunks/44aea766f6f80a25.js","async":true,"nonce":"$undefined"}],["$","script","script-2",{"src":"/_next/static/chunks/f0d2ef03bc5b3146.js","async":true,"nonce":"$undefined"}]],["$","html",null,{"lang":"ko","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","script",null,{"dangerouslySetInnerHTML":{"__html":"\n  (function() {\n    try {\n      var theme = localStorage.getItem('theme');\n      if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {\n        document.documentElement.classList.add('dark');\n      } else {\n        document.documentElement.classList.remove('dark');\n      }\n    } catch (e) {}\n  })();\n"}}],["$","link",null,{"rel":"shortcut icon","href":"/favicon-light.svg"}],["$","link",null,{"rel":"icon","href":"/favicon-light.svg"}],["$","link",null,{"rel":"apple-touch-icon","href":"/favicon-light.svg"}]]}],["$","body",null,{"className":"min-h-screen flex flex-col bg-background text-foreground antialiased","children":[["$","$L2",null,{"children":[["$","$L3",null,{}],["$","main",null,{"className":"flex-1 flex flex-col","children":["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],["$","$L6",null,{}]]}]]}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["$","$1","c",{"children":["$L7",[["$","script","script-0",{"src":"/_next/static/chunks/9a18b7330d276141.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/_next/static/chunks/a3d20a812be16d69.js","async":true,"nonce":"$undefined"}],["$","script","script-2",{"src":"/_next/static/chunks/c84805df17f0a72a.js","async":true,"nonce":"$undefined"}],["$","script","script-3",{"src":"/_next/static/chunks/948615c9ecde1cb4.js","async":true,"nonce":"$undefined"}],["$","script","script-4",{"src":"/_next/static/chunks/85806e5b63a62879.js","async":true,"nonce":"$undefined"}],["$","script","script-5",{"src":"/_next/static/chunks/311bfda68bef2673.js","async":true,"nonce":"$undefined"}],["$","script","script-6",{"src":"/_next/static/chunks/f87ca1afb6e89cb0.js","async":true,"nonce":"$undefined"}],["$","script","script-7",{"src":"/_next/static/chunks/e1a9aaa3e8d4ba89.js","async":true,"nonce":"$undefined"}],["$","script","script-8",{"src":"/_next/static/chunks/8fba60bd4135542a.js","async":true,"nonce":"$undefined"}]],["$","$L8",null,{"children":["$","$9",null,{"name":"Next.MetadataOutlet","children":"$@a"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},[["$","svg","l",{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-loader h-11 w-11 absolute m-auto top-0 bottom-0 right-0 left-0 animate-spin text-muted-foreground z-50","aria-hidden":"true","children":["$Lb","$Lc","$Ld","$Le","$Lf","$L10","$L11","$L12","$undefined"]}],[],[]],false,false],"$L13",false]],"m":"$undefined","G":["$14",[]],"S":true}
15:I[95276,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"ViewportBoundary"]
17:I[95276,["/_next/static/chunks/221e0744b683f94b.js","/_next/static/chunks/90c5a27ffb71fa4a.js"],"MetadataBoundary"]
b:["$","path","3427ic",{"d":"M12 2v4"}]
c:["$","path","r700ao",{"d":"m16.2 7.8 2.9-2.9"}]
d:["$","path","wj9ykh",{"d":"M18 12h4"}]
e:["$","path","1bxg5t",{"d":"m16.2 16.2 2.9 2.9"}]
f:["$","path","jadmvz",{"d":"M12 18v4"}]
10:["$","path","bwix9q",{"d":"m4.9 19.1 2.9-2.9"}]
11:["$","path","j09sii",{"d":"M2 12h4"}]
12:["$","path","giyufr",{"d":"m4.9 4.9 2.9 2.9"}]
13:["$","$1","h",{"children":[null,["$","$L15",null,{"children":"$L16"}],["$","div",null,{"hidden":true,"children":["$","$L17",null,{"children":["$","$9",null,{"name":"Next.Metadata","children":"$L18"}]}]}],null]}]
16:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
19:I[51506,["/_next/static/chunks/24ec601050a34de4.js","/_next/static/chunks/44aea766f6f80a25.js","/_next/static/chunks/f0d2ef03bc5b3146.js","/_next/static/chunks/9a18b7330d276141.js","/_next/static/chunks/a3d20a812be16d69.js","/_next/static/chunks/c84805df17f0a72a.js","/_next/static/chunks/948615c9ecde1cb4.js","/_next/static/chunks/85806e5b63a62879.js","/_next/static/chunks/311bfda68bef2673.js","/_next/static/chunks/f87ca1afb6e89cb0.js","/_next/static/chunks/e1a9aaa3e8d4ba89.js","/_next/static/chunks/8fba60bd4135542a.js"],""]
7:["$","div",null,{"className":"pt-28 pb-8 px-6 sm:px-8 md:px-12 lg:px-16 md:pt-20 min-h-screen bg-[radial-gradient(oklch(0.5_0_0/15%)_1px,transparent_1px)] bg-size-[20px_20px]","children":["$","div",null,{"className":"w-full max-w-4xl mx-auto","children":[["$","$L19",null,{"href":"/posts","className":"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-6","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-arrow-left w-4 h-4","aria-hidden":"true","children":[["$","path","1l729n",{"d":"m12 19-7-7 7-7"}],["$","path","x3x0zl",{"d":"M19 12H5"}],"$undefined"]}],["$","span",null,{"children":"포스트 목록으로 돌아가기"}]]}],["$","div",null,{"ref":"$undefined","className":"rounded-lg border border-border bg-card text-card-foreground shadow-sm mb-8","children":["$","div",null,{"ref":"$undefined","className":"p-6 pt-6","children":[["$","h1",null,{"className":"text-3xl sm:text-4xl font-bold text-foreground mb-4","children":"JSON 노드 트리로 페이지 빌더 만들기"}],["$","div",null,{"className":"flex flex-wrap items-center gap-4 mb-4","children":["$","div",null,{"className":"flex items-center gap-2 text-muted-foreground","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-calendar w-4 h-4","aria-hidden":"true","children":[["$","path","1cmpym",{"d":"M8 2v4"}],["$","path","4m81vk",{"d":"M16 2v4"}],["$","rect","1hopcy",{"width":"18","height":"18","x":"3","y":"4","rx":"2"}],["$","path","8toen8",{"d":"M3 10h18"}],"$undefined"]}],["$","span",null,{"children":"2026-01-29"}]]}]}],["$","div",null,{"className":"flex flex-wrap gap-2","children":[["$","div","React",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky","children":"React"}],["$","div","TypeScript",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky","children":"TypeScript"}],["$","div","Page Builder",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky","children":"Page Builder"}],["$","div","WYSIWYG",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky","children":"WYSIWYG"}],["$","div","Architecture",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-primary-sky/20 text-primary-sky","children":"Architecture"}]]}]]}]}],["$","article",null,{"className":"prose prose-neutral dark:prose-invert max-w-none","children":"$L1a"}]]}]}]
a:null
18:[["$","title","0",{"children":"JSON 노드 트리로 페이지 빌더 만들기 | 안성진"}],["$","meta","1",{"name":"description","content":"React.createElement에서 영감을 받은 노드 기반 동적 UI 렌더링 시스템 구현기"}],["$","meta","2",{"name":"keywords","content":"React,TypeScript,Page Builder,WYSIWYG,Architecture"}],["$","meta","3",{"name":"robots","content":"index, follow"}],["$","meta","4",{"property":"og:title","content":"JSON 노드 트리로 페이지 빌더 만들기"}],["$","meta","5",{"property":"og:description","content":"React.createElement에서 영감을 받은 노드 기반 동적 UI 렌더링 시스템 구현기"}],["$","meta","6",{"property":"og:url","content":"https://anveloper.github.io/posts/node-based-page-builder"}],["$","meta","7",{"property":"og:type","content":"article"}],["$","meta","8",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","9",{"name":"twitter:title","content":"JSON 노드 트리로 페이지 빌더 만들기"}],["$","meta","10",{"name":"twitter:description","content":"React.createElement에서 영감을 받은 노드 기반 동적 UI 렌더링 시스템 구현기"}]]
1a:[["$","h1",null,{"children":"JSON 노드 트리로 페이지 빌더 만들기","className":"text-4xl font-bold mt-8 mb-4 text-foreground"}],"\n",["$","h2",null,{"children":"배경","className":"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2"}],"\n",["$","p",null,{"children":"멀티테넌트 팝업 스토어 플랫폼에서 \"자유형\" 테넌트 타입을 구현해야 했다. 고정형은 미리 정의된 레이아웃에 콘텐츠를 채우는 방식이라 유연성이 제한적이었다. 자유형은 관리자가 드래그앤드롭으로 페이지를 자유롭게 구성할 수 있어야 했다.","className":"my-4 leading-7 text-foreground/90"}],"\n",["$","h3",null,{"children":"v1.0의 한계","className":"text-2xl font-semibold mt-5 mb-2 text-foreground"}],"\n",["$","p",null,{"children":"처음에는 컴포넌트 타입 기반(switch-case) 렌더링을 사용했다.","className":"my-4 leading-7 text-foreground/90"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground","children":"// v1.0: 컴포넌트 타입 기반\nswitch (component.type) {\n  case \"hero-banner\": return <HeroBanner {...props} />;\n  case \"product-grid\": return <ProductGrid {...props} />;\n  // 새 컴포넌트 추가 → 코드 수정 필요\n}\n"}],"className":"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"}],"\n",["$","p",null,{"children":"새로운 컴포넌트를 추가할 때마다 코드를 수정해야 하고, 중첩 구조를 표현할 수 없었다. 완전히 다른 접근이 필요했다.","className":"my-4 leading-7 text-foreground/90"}],"\n",["$","h3",null,{"children":"v2.0: React.createElement에서 영감","className":"text-2xl font-semibold mt-5 mb-2 text-foreground"}],"\n",["$","p",null,{"children":[["$","code",null,{"children":"React.createElement(type, props, children)","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}]," 구조에서 힌트를 얻었다. 모든 UI를 ",["$","code",null,{"children":"{element, props, style, children}","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}]," 구조의 노드 트리로 표현하면, config만으로 어떤 UI든 만들 수 있다."],"className":"my-4 leading-7 text-foreground/90"}],"\n",["$","h2",null,{"children":"데이터 구조: UINode","className":"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground","children":"interface UINode {\n  id: string;               // 노드 고유 ID\n  element: ElementType;     // 요소 타입 (div, h1, product-list 등)\n  text?: NodeText;          // 텍스트 콘텐츠 (다국어)\n  props?: NodeProps;        // 요소 속성\n  style?: NodeStyle;        // 스타일 (Tailwind + 인라인)\n  children?: UINode[];      // 자식 노드\n}\n\ninterface NodeText {\n  text: string;             // 기본 텍스트 (한국어)\n  i18n?: {\n    en?: string;            // 영어\n    jp?: string;            // 일본어\n  };\n}\n\ninterface NodeStyle {\n  inline?: Record<string, string>;  // CSS 인라인 스타일\n  className?: string;               // Tailwind 클래스\n}\n"}],"className":"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"}],"\n",["$","p",null,{"children":"실제 데이터는 이렇게 생겼다.","className":"my-4 leading-7 text-foreground/90"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground","children":"{\n  \"rootNode\": {\n    \"id\": \"root\",\n    \"element\": \"div\",\n    \"style\": { \"className\": \"min-h-screen\" },\n    \"children\": [\n      {\n        \"id\": \"header\",\n        \"element\": \"header\",\n        \"style\": { \"className\": \"flex items-center justify-between p-4\" },\n        \"children\": [\n          { \"id\": \"logo\", \"element\": \"logo\", \"props\": { \"size\": \"medium\" } },\n          { \"id\": \"lang\", \"element\": \"language-selector\" }\n        ]\n      },\n      {\n        \"id\": \"title\",\n        \"element\": \"h1\",\n        \"text\": {\n          \"text\": \"환영합니다\",\n          \"i18n\": { \"en\": \"Welcome\", \"jp\": \"ようこそ\" }\n        },\n        \"style\": { \"className\": \"text-4xl font-bold text-center py-16\" }\n      }\n    ]\n  },\n  \"metadata\": { \"version\": \"2.0\" }\n}\n"}],"className":"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"}],"\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41"]
1b:["$","h2",null,{"children":"허용 요소와 특수 컴포넌트","className":"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2"}]
1c:["$","p",null,{"children":"모든 HTML 요소를 허용하면 보안 문제가 생긴다. 화이트리스트 방식으로 허용 요소를 제한했다.","className":"my-4 leading-7 text-foreground/90"}]
1d:["$","p",null,{"children":[["$","strong",null,{"children":"HTML 요소","className":"font-semibold text-foreground"}],": ",["$","code",null,{"children":"div","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"span","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"section","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"header","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"footer","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"h1","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"~",["$","code",null,{"children":"h6","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"p","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"a","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"button","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"img","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"ul","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"ol","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"li","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}]," 등"],"className":"my-4 leading-7 text-foreground/90"}]
1e:["$","p",null,{"children":[["$","strong",null,{"children":"특수 컴포넌트","className":"font-semibold text-foreground"}],": 비즈니스 로직이 필요한 요소는 별도 컴포넌트로 구현했다."],"className":"my-4 leading-7 text-foreground/90"}]
1f:["$","div",null,{"className":"my-6 overflow-x-auto","children":["$","table",null,{"className":"w-full border-collapse","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"컴포넌트","className":"border border-border px-4 py-2 text-left font-semibold"}],["$","th",null,{"children":"설명","className":"border border-border px-4 py-2 text-left font-semibold"}],["$","th",null,{"children":"주요 props","className":"border border-border px-4 py-2 text-left font-semibold"}]]}],"className":"bg-muted"}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"product-list","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"className":"border border-border px-4 py-2"}],["$","td",null,{"children":"상품 목록 그리드","className":"border border-border px-4 py-2"}],["$","td",null,{"children":[["$","code",null,{"children":"maxItems","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"columns","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"displayId","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}]],"className":"border border-border px-4 py-2"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"logo","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"className":"border border-border px-4 py-2"}],["$","td",null,{"children":"테넌트 로고","className":"border border-border px-4 py-2"}],["$","td",null,{"children":[["$","code",null,{"children":"size","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"fileId","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}]],"className":"border border-border px-4 py-2"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"language-selector","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"className":"border border-border px-4 py-2"}],["$","td",null,{"children":"언어 전환","className":"border border-border px-4 py-2"}],["$","td",null,{"children":["$","code",null,{"children":"scale","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"className":"border border-border px-4 py-2"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"cart-button","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"className":"border border-border px-4 py-2"}],["$","td",null,{"children":"장바구니 버튼","className":"border border-border px-4 py-2"}],["$","td",null,{"children":["$","code",null,{"children":"showBadge","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"className":"border border-border px-4 py-2"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"signup-form","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"className":"border border-border px-4 py-2"}],["$","td",null,{"children":"회원가입 폼","className":"border border-border px-4 py-2"}],["$","td",null,{"children":["$","code",null,{"children":"requireVerification","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"className":"border border-border px-4 py-2"}]]}]]}]]}]}]
20:["$","p",null,{"children":"특수 컴포넌트는 렌더러에서 별도로 처리한다.","className":"my-4 leading-7 text-foreground/90"}]
21:["$","pre",null,{"children":["$","code",null,{"className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground","children":"// components/node-renderer/special-components.tsx\nfunction renderSpecialComponent(node: UINode) {\n  switch (node.element) {\n    case \"product-list\":\n      return <ProductListComponent {...node.props} />;\n    case \"logo\":\n      return <LogoComponent {...node.props} />;\n    // ...\n  }\n}\n"}],"className":"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"}]
22:["$","h2",null,{"children":"렌더러: 재귀적 노드 렌더링","className":"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2"}]
23:["$","p",null,{"children":"노드 렌더러의 핵심은 재귀다. 루트 노드부터 시작해서 자식 노드를 재귀적으로 렌더링한다.","className":"my-4 leading-7 text-foreground/90"}]
24:["$","pre",null,{"children":["$","code",null,{"className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground","children":"function NodeRenderer({ node, depth = 0 }: { node: UINode; depth?: number }) {\n  // 깊이 제한 (보안)\n  if (depth > MAX_DEPTH) return null;\n\n  // 특수 컴포넌트 처리\n  if (isSpecialComponent(node.element)) {\n    return renderSpecialComponent(node);\n  }\n\n  // 스타일 정제\n  const style = sanitizeNodeStyle(node.style);\n  const textContent = getLocalizedText(node.text);\n\n  // HTML 요소 렌더링\n  return React.createElement(\n    node.element,\n    {\n      className: style.className,\n      style: style.inline,\n    },\n    textContent,\n    node.children?.map((child) => (\n      <NodeRenderer key={child.id} node={child} depth={depth + 1} />\n    ))\n  );\n}\n"}],"className":"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"}]
25:["$","h3",null,{"children":"v1.0 → v2.0 호환","className":"text-2xl font-semibold mt-5 mb-2 text-foreground"}]
26:["$","p",null,{"children":[["$","code",null,{"children":"FlexiblePageRenderer","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"에서 버전을 자동 감지하여 렌더러를 분기한다."],"className":"my-4 leading-7 text-foreground/90"}]
27:["$","pre",null,{"children":["$","code",null,{"className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground","children":"function isNodeLayoutConfig(config: unknown): config is NodeLayoutConfig {\n  return config?.metadata?.version === \"2.0\" && config?.rootNode != null;\n}\n\n// v2.0이면 노드 렌더러, v1.0이면 레거시 렌더러\nif (isNodeLayoutConfig(layoutConfig)) {\n  return <RootNodeRenderer config={layoutConfig} />;\n}\n"}],"className":"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"}]
28:["$","h2",null,{"children":"보안: 화이트리스트 기반 검증","className":"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2"}]
29:["$","p",null,{"children":"사용자가 입력한 JSON이 렌더링되므로, 보안은 필수다.","className":"my-4 leading-7 text-foreground/90"}]
2a:["$","h3",null,{"children":"검증 항목","className":"text-2xl font-semibold mt-5 mb-2 text-foreground"}]
2b:["$","div",null,{"className":"my-6 overflow-x-auto","children":["$","table",null,{"className":"w-full border-collapse","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"항목","className":"border border-border px-4 py-2 text-left font-semibold"}],["$","th",null,{"children":"방법","className":"border border-border px-4 py-2 text-left font-semibold"}]]}],"className":"bg-muted"}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"요소 타입","className":"border border-border px-4 py-2"}],["$","td",null,{"children":[["$","code",null,{"children":"ALLOWED_HTML_ELEMENTS","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}]," 화이트리스트"],"className":"border border-border px-4 py-2"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"CSS 속성","className":"border border-border px-4 py-2"}],["$","td",null,{"children":[["$","code",null,{"children":"ALLOWED_CSS_PROPERTIES","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}]," 화이트리스트"],"className":"border border-border px-4 py-2"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"CSS 값","className":"border border-border px-4 py-2"}],["$","td",null,{"children":[["$","code",null,{"children":"javascript:","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"expression(","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"url(data:)","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}]," 차단"],"className":"border border-border px-4 py-2"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Tailwind 클래스","className":"border border-border px-4 py-2"}],["$","td",null,{"children":"영문/숫자/하이픈/콜론만 허용","className":"border border-border px-4 py-2"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"href","className":"border border-border px-4 py-2"}],["$","td",null,{"children":[["$","code",null,{"children":"javascript:","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"data:","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],", ",["$","code",null,{"children":"vbscript:","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}]," 프로토콜 차단"],"className":"border border-border px-4 py-2"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"트리 깊이","className":"border border-border px-4 py-2"}],["$","td",null,{"children":"MAX_DEPTH = 10","className":"border border-border px-4 py-2"}]]}]]}]]}]}]
2c:["$","h3",null,{"children":"정제 함수","className":"text-2xl font-semibold mt-5 mb-2 text-foreground"}]
2d:["$","pre",null,{"children":["$","code",null,{"className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground","children":"// 인라인 스타일 정제\nfunction sanitizeInlineStyle(style: Record<string, string>) {\n  const sanitized: Record<string, string> = {};\n  for (const [key, value] of Object.entries(style)) {\n    const camelKey = toCamelCase(key); // kebab-case → camelCase\n    if (isAllowedCSSProperty(camelKey) && !hasDangerousValue(value)) {\n      sanitized[camelKey] = value;\n    }\n  }\n  return sanitized;\n}\n"}],"className":"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"}]
2e:["$","p",null,{"children":["CSS 속성명은 JSON에서 ",["$","code",null,{"children":"background-color","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}]," 같은 kebab-case로 저장되지만, React는 ",["$","code",null,{"children":"backgroundColor","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}]," 같은 camelCase를 요구한다. 정제 과정에서 자동 변환한다."],"className":"my-4 leading-7 text-foreground/90"}]
2f:["$","h2",null,{"children":"트리 조작 유틸리티","className":"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2"}]
30:["$","p",null,{"children":"에디터에서 노드를 추가/삭제/이동할 때 사용하는 유틸리티다. 불변성(immutability)을 유지하면서 트리를 조작한다.","className":"my-4 leading-7 text-foreground/90"}]
31:["$","pre",null,{"children":["$","code",null,{"className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground","children":"// 노드 찾기\nconst node = findNodeById(rootNode, \"node-id\");\nconst parent = findParentNode(rootNode, \"node-id\");\n\n// 노드 수정 (불변성 유지 — 새 트리 반환)\nconst newRoot = updateNode(rootNode, \"node-id\", {\n  text: { text: \"새 텍스트\" }\n});\n\n// 노드 추가/삭제/이동\nconst newRoot = addChildNode(rootNode, \"parent-id\", newNode, index);\nconst newRoot = removeNode(rootNode, \"node-id\");\nconst newRoot = moveNode(rootNode, \"node-id\", \"new-parent-id\", newIndex);\n\n// 노드 복제 (새 ID 생성)\nconst cloned = cloneNode(node);\n"}],"className":"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"}]
32:["$","p",null,{"children":"모든 함수가 원본 트리를 변경하지 않고 새 트리를 반환하므로, React 상태 관리와 자연스럽게 연결된다.","className":"my-4 leading-7 text-foreground/90"}]
33:["$","h2",null,{"children":"비주얼 빌더 (WYSIWYG 에디터)","className":"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2"}]
34:["$","p",null,{"children":"관리자가 사용하는 비주얼 빌더는 크게 3영역으로 구성된다.","className":"my-4 leading-7 text-foreground/90"}]
35:["$","pre",null,{"children":["$","code",null,{"children":"┌──────────────────────────────────────────────┐\n│  [페이지 제목]  [활성화 토글]  [저장]  [템플릿]  │  ← 상단 헤더\n├──────────────┬───────────────────────────────┤\n│              │                               │\n│  속성 편집    │     편집 캔버스               │\n│  패널        │     (WYSIWYG)                │\n│              │                               │\n│  - 텍스트    │     노드 클릭 → 선택          │\n│  - Props     │     호버 → 오버레이           │\n│  - 스타일    │     드래그 → 이동             │\n│              │                               │\n├──────────────┴───────────────────────────────┤\n│  뷰 모드 전환: 데스크톱 / 태블릿 / 모바일      │\n└──────────────────────────────────────────────┘\n","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"className":"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"}]
36:["$","ul",null,{"children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"편집 캔버스","className":"font-semibold text-foreground"}],": 실제 렌더링 결과를 보면서 편집. 노드 클릭 시 선택 오버레이 표시"],"className":"text-foreground/90 leading-7"}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"속성 패널","className":"font-semibold text-foreground"}],": 선택된 노드의 텍스트(한/영/일), Props, 스타일 편집"],"className":"text-foreground/90 leading-7"}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"뷰 모드","className":"font-semibold text-foreground"}],": 데스크톱/태블릿/모바일 너비로 전환하여 반응형 확인"],"className":"text-foreground/90 leading-7"}],"\n"],"className":"my-4 ml-6 list-disc space-y-2"}]
37:["$","h3",null,{"children":"샘플 템플릿","className":"text-2xl font-semibold mt-5 mb-2 text-foreground"}]
38:["$","p",null,{"children":"빈 페이지에서 시작하기 어려우므로, 페이지 타입별 샘플 템플릿을 제공한다.","className":"my-4 leading-7 text-foreground/90"}]
39:["$","pre",null,{"children":["$","code",null,{"className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground","children":"const templates = getTemplatesForPageType(\"HERO\");\n// → [{ id: \"hero-default\", name: \"기본 시작 페이지\" }, { id: \"empty\", name: \"빈 페이지\" }]\n\nconst config = createFromTemplate(\"hero-default\");\n"}],"className":"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"}]
3a:["$","p",null,{"children":"HERO, SIGNUP, PRODUCT_LIST, OPTION_SELECT 페이지에 각각 기본 템플릿이 있다. 관리자는 템플릿을 선택하고, 그 위에서 커스터마이징하면 된다.","className":"my-4 leading-7 text-foreground/90"}]
3b:["$","h2",null,{"children":"다국어 처리","className":"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2"}]
3c:["$","p",null,{"children":"노드의 텍스트 콘텐츠는 기본 한국어 + i18n 번역을 함께 저장한다.","className":"my-4 leading-7 text-foreground/90"}]
3d:["$","pre",null,{"children":["$","code",null,{"className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground","children":"{\n  \"text\": {\n    \"text\": \"환영합니다\",\n    \"i18n\": { \"en\": \"Welcome\", \"jp\": \"ようこそ\" }\n  }\n}\n"}],"className":"bg-muted p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm"}]
3e:["$","p",null,{"children":["렌더링 시 ",["$","code",null,{"children":"LanguageContext","className":"bg-muted px-1.5 py-0.5 rounded text-sm font-mono text-foreground"}],"의 현재 언어에 따라 적절한 텍스트를 선택한다. 에디터에서는 한/영/일 3개 입력 필드를 동시에 보여주어 번역을 편리하게 입력할 수 있다."],"className":"my-4 leading-7 text-foreground/90"}]
3f:["$","h2",null,{"children":"마무리","className":"text-3xl font-semibold mt-6 mb-3 text-foreground border-b border-border pb-2"}]
40:["$","p",null,{"children":["이 시스템의 핵심 아이디어는 단순하다. ",["$","strong",null,{"children":"UI를 JSON 트리로 표현하고, 재귀적으로 렌더링한다.","className":"font-semibold text-foreground"}]," React.createElement가 하는 일과 본질적으로 같지만, JSON으로 직렬화할 수 있어 DB에 저장하고 에디터로 편집할 수 있다."],"className":"my-4 leading-7 text-foreground/90"}]
41:["$","p",null,{"children":"보안(화이트리스트), 불변 트리 조작, 특수 컴포넌트 확장 포인트 등의 설계가 시스템을 실용적으로 만들어주었다. 특히 v1.0에서 v2.0으로의 전환 과정에서 자동 버전 감지를 통한 하위 호환성 유지가 유용했다.","className":"my-4 leading-7 text-foreground/90"}]
