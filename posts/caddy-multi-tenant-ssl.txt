1:"$Sreact.fragment"
2:I[163720,["/_next/static/chunks/34f9db3e742712f8.js","/_next/static/chunks/66231d519a3a670e.js"],"NavBar"]
3:I[925270,["/_next/static/chunks/1c8dd1e98f29bd04.js","/_next/static/chunks/de15131553ab167d.js"],"default"]
4:I[585455,["/_next/static/chunks/1c8dd1e98f29bd04.js","/_next/static/chunks/de15131553ab167d.js"],"default"]
5:I[951506,["/_next/static/chunks/34f9db3e742712f8.js","/_next/static/chunks/66231d519a3a670e.js","/_next/static/chunks/b59c211883e2cc85.js","/_next/static/chunks/62ae5b2571fdfa58.js","/_next/static/chunks/808ed0f189237446.js","/_next/static/chunks/d20696d588f50da6.js","/_next/static/chunks/0e1982b1a6cbd127.js","/_next/static/chunks/2d4c0fd06ca34510.js","/_next/static/chunks/ca3512025a981c82.js","/_next/static/chunks/3d8db013779f38f4.js","/_next/static/chunks/e63644fc036e8e8f.js"],""]
6:I[453013,["/_next/static/chunks/34f9db3e742712f8.js","/_next/static/chunks/66231d519a3a670e.js"],"default"]
b:I[807871,["/_next/static/chunks/1c8dd1e98f29bd04.js","/_next/static/chunks/de15131553ab167d.js"],"default"]
:HL["/_next/static/chunks/b6a9722124bbb2e6.css","style"]
:HL["/fonts/PretendardVariable-subset.woff2","font",{"crossOrigin":"anonymous","type":"font/woff2"}]
0:{"P":null,"b":"RXHIRB_1bq8Dvbwo2LX_u","c":["","posts","caddy-multi-tenant-ssl"],"q":"","i":false,"f":[[["",{"children":["posts",{"children":[["slug","caddy-multi-tenant-ssl","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],[["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/chunks/b6a9722124bbb2e6.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","script","script-0",{"src":"/_next/static/chunks/34f9db3e742712f8.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/_next/static/chunks/66231d519a3a670e.js","async":true,"nonce":"$undefined"}]],["$","html",null,{"lang":"ko","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","script",null,{"dangerouslySetInnerHTML":{"__html":"\n  (function() {\n    try {\n      var theme = localStorage.getItem('theme');\n      if (theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {\n        document.documentElement.classList.add('dark');\n      } else {\n        document.documentElement.classList.remove('dark');\n      }\n    } catch (e) {}\n  })();\n"}}],["$","link",null,{"rel":"preload","href":"/fonts/PretendardVariable-subset.woff2","as":"font","type":"font/woff2","crossOrigin":"anonymous"}],["$","link",null,{"rel":"preconnect","href":"https://img.shields.io"}],["$","link",null,{"rel":"shortcut icon","href":"/favicon-light.svg"}],["$","link",null,{"rel":"icon","href":"/favicon-light.svg"}],["$","link",null,{"rel":"apple-touch-icon","href":"/favicon-light.svg"}]]}],["$","body",null,{"className":"min-h-screen flex flex-col bg-background text-foreground antialiased","children":[["$","$L2",null,{}],["$","main",null,{"className":"flex-1 flex flex-col","children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}],["$","footer",null,{"className":"border-t border-border","children":["$","div",null,{"className":"max-w-4xl mx-auto px-6 sm:px-8 md:px-12 lg:px-16 py-6 flex flex-col sm:flex-row items-center justify-between gap-2 text-sm text-muted-foreground","children":[["$","span",null,{"children":"© 2025 anveloper.dev"}],["$","nav",null,{"className":"flex items-center gap-3","children":[["$","span","GitHub",{"className":"flex items-center gap-3","children":[false,["$","$L5",null,{"href":"https://github.com/anveloper","className":"hover:text-foreground transition-colors","target":"_blank","rel":"noopener noreferrer","children":"GitHub"}]]}],["$","span","LinkedIn",{"className":"flex items-center gap-3","children":[["$","span",null,{"aria-hidden":true,"children":"·"}],["$","$L5",null,{"href":"https://www.linkedin.com/in/anveloper","className":"hover:text-foreground transition-colors","target":"_blank","rel":"noopener noreferrer","children":"LinkedIn"}]]}],["$","span","Contact",{"className":"flex items-center gap-3","children":[["$","span",null,{"aria-hidden":true,"children":"·"}],["$","$L5",null,{"href":"/contact","className":"hover:text-foreground transition-colors","children":"Contact"}]]}]]}]]}]}],["$","$L6",null,{}]]}]]}]]}],{"children":[["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["$L7",{"children":["$L8",{},null,false,false]},null,false,false]},null,false,false]},["$L9",[],[]],false,false],"$La",false]],"m":"$undefined","G":["$b",[]],"S":true}
d:I[95276,["/_next/static/chunks/1c8dd1e98f29bd04.js","/_next/static/chunks/de15131553ab167d.js"],"OutletBoundary"]
e:"$Sreact.suspense"
10:I[95276,["/_next/static/chunks/1c8dd1e98f29bd04.js","/_next/static/chunks/de15131553ab167d.js"],"ViewportBoundary"]
12:I[95276,["/_next/static/chunks/1c8dd1e98f29bd04.js","/_next/static/chunks/de15131553ab167d.js"],"MetadataBoundary"]
7:["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}]
8:["$","$1","c",{"children":["$Lc",[["$","script","script-0",{"src":"/_next/static/chunks/b59c211883e2cc85.js","async":true,"nonce":"$undefined"}],["$","script","script-1",{"src":"/_next/static/chunks/62ae5b2571fdfa58.js","async":true,"nonce":"$undefined"}],["$","script","script-2",{"src":"/_next/static/chunks/808ed0f189237446.js","async":true,"nonce":"$undefined"}],["$","script","script-3",{"src":"/_next/static/chunks/d20696d588f50da6.js","async":true,"nonce":"$undefined"}],["$","script","script-4",{"src":"/_next/static/chunks/0e1982b1a6cbd127.js","async":true,"nonce":"$undefined"}],["$","script","script-5",{"src":"/_next/static/chunks/2d4c0fd06ca34510.js","async":true,"nonce":"$undefined"}],["$","script","script-6",{"src":"/_next/static/chunks/ca3512025a981c82.js","async":true,"nonce":"$undefined"}],["$","script","script-7",{"src":"/_next/static/chunks/3d8db013779f38f4.js","async":true,"nonce":"$undefined"}],["$","script","script-8",{"src":"/_next/static/chunks/e63644fc036e8e8f.js","async":true,"nonce":"$undefined"}]],["$","$Ld",null,{"children":["$","$e",null,{"name":"Next.MetadataOutlet","children":"$@f"}]}]]}]
9:["$","svg","l",{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-loader h-11 w-11 absolute m-auto top-0 bottom-0 right-0 left-0 animate-spin text-muted-foreground z-50","aria-hidden":"true","children":[["$","path","3427ic",{"d":"M12 2v4"}],["$","path","r700ao",{"d":"m16.2 7.8 2.9-2.9"}],["$","path","wj9ykh",{"d":"M18 12h4"}],["$","path","1bxg5t",{"d":"m16.2 16.2 2.9 2.9"}],["$","path","jadmvz",{"d":"M12 18v4"}],["$","path","bwix9q",{"d":"m4.9 19.1 2.9-2.9"}],["$","path","j09sii",{"d":"M2 12h4"}],["$","path","giyufr",{"d":"m4.9 4.9 2.9 2.9"}],"$undefined"]}]
a:["$","$1","h",{"children":[null,["$","$L10",null,{"children":"$L11"}],["$","div",null,{"hidden":true,"children":["$","$L12",null,{"children":["$","$e",null,{"name":"Next.Metadata","children":"$L13"}]}]}],null]}]
11:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
14:I[166627,["/_next/static/chunks/34f9db3e742712f8.js","/_next/static/chunks/66231d519a3a670e.js","/_next/static/chunks/b59c211883e2cc85.js","/_next/static/chunks/62ae5b2571fdfa58.js","/_next/static/chunks/808ed0f189237446.js","/_next/static/chunks/d20696d588f50da6.js","/_next/static/chunks/0e1982b1a6cbd127.js","/_next/static/chunks/2d4c0fd06ca34510.js","/_next/static/chunks/ca3512025a981c82.js","/_next/static/chunks/3d8db013779f38f4.js","/_next/static/chunks/e63644fc036e8e8f.js"],"TableOfContents"]
16:I[826107,["/_next/static/chunks/34f9db3e742712f8.js","/_next/static/chunks/66231d519a3a670e.js","/_next/static/chunks/b59c211883e2cc85.js","/_next/static/chunks/62ae5b2571fdfa58.js","/_next/static/chunks/808ed0f189237446.js","/_next/static/chunks/d20696d588f50da6.js","/_next/static/chunks/0e1982b1a6cbd127.js","/_next/static/chunks/2d4c0fd06ca34510.js","/_next/static/chunks/ca3512025a981c82.js","/_next/static/chunks/3d8db013779f38f4.js","/_next/static/chunks/e63644fc036e8e8f.js"],"GiscusComments"]
c:["$","div",null,{"className":"pt-28 pb-8 px-6 sm:px-8 md:px-12 lg:px-16 md:pt-20 min-h-screen","children":["$","div",null,{"className":"w-full max-w-4xl mx-auto","children":[["$","$L14",null,{"items":[{"id":"caddy와-on-demand-tls","text":"Caddy와 On-Demand TLS","level":2},{"id":"배경","text":"배경","level":2},{"id":"왜-caddy인가","text":"왜 Caddy인가","level":2},{"id":"아키텍처","text":"아키텍처","level":2},{"id":"caddyfile-설정","text":"Caddyfile 설정","level":2},{"id":"글로벌-설정-on-demand-tls","text":"글로벌 설정: On-Demand TLS","level":3},{"id":"도메인별-블록","text":"도메인별 블록","level":3},{"id":"보안-헤더","text":"보안 헤더","level":3},{"id":"도메인-검증-api","text":"도메인 검증 API","level":2},{"id":"nextjs-proxyts에서-도메인-라우팅","text":"Next.js proxy.ts에서 도메인 라우팅","level":2},{"id":"와일드카드-인증서-cloudflare-dns-연동","text":"와일드카드 인증서: Cloudflare DNS 연동","level":2},{"id":"배포-pm2--systemd","text":"배포: PM2 + systemd","level":2},{"id":"주의사항","text":"주의사항","level":2},{"id":"마무리","text":"마무리","level":2}]}],["$","$L5",null,{"href":"/posts","className":"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground transition-colors mb-6","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-arrow-left w-4 h-4","aria-hidden":"true","children":[["$","path","1l729n",{"d":"m12 19-7-7 7-7"}],["$","path","x3x0zl",{"d":"M19 12H5"}],"$undefined"]}],["$","span",null,{"children":"포스트 목록으로 돌아가기"}]]}],["$","header",null,{"className":"border-b border-border pb-6 mb-8","children":[["$","h1",null,{"className":"text-2xl sm:text-3xl font-bold text-foreground mb-4","children":"Caddy로 멀티테넌트 SSL 자동화하기"}],["$","div",null,{"className":"flex flex-wrap items-center gap-4 mb-4","children":["$","span",null,{"className":"text-sm text-muted-foreground","children":"2026-01-14"}]}],["$","div",null,{"className":"flex flex-wrap gap-2","children":[["$","div","Caddy",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80","children":"Caddy"}],["$","div","SSL",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80","children":"SSL"}],["$","div","Multi-tenant",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80","children":"Multi-tenant"}],["$","div","Infrastructure",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80","children":"Infrastructure"}],["$","div","Let's Encrypt",{"className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80","children":"Let's Encrypt"}]]}]]}],["$","article",null,{"className":"prose prose-neutral dark:prose-invert max-w-none","children":"$L15"}],["$","$L16",null,{}]]}]}]
f:null
13:[["$","title","0",{"children":"Caddy로 멀티테넌트 SSL 자동화하기 | 안성진"}],["$","meta","1",{"name":"description","content":"On-Demand TLS로 커스텀 도메인 인증서를 자동 발급하는 멀티테넌트 리버스 프록시 구축기"}],["$","meta","2",{"name":"keywords","content":"Caddy,SSL,Multi-tenant,Infrastructure,Let's Encrypt"}],["$","meta","3",{"name":"robots","content":"index, follow"}],["$","meta","4",{"name":"google-site-verification","content":"kpYkq06WB0cQDLByVOdZD_5HXLkbxzFAvQKQ-Rp9sKY"}],["$","meta","5",{"property":"og:title","content":"Caddy로 멀티테넌트 SSL 자동화하기"}],["$","meta","6",{"property":"og:description","content":"On-Demand TLS로 커스텀 도메인 인증서를 자동 발급하는 멀티테넌트 리버스 프록시 구축기"}],["$","meta","7",{"property":"og:url","content":"https://anveloper.dev/posts/caddy-multi-tenant-ssl"}],["$","meta","8",{"property":"og:type","content":"article"}],["$","meta","9",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","10",{"name":"twitter:title","content":"Caddy로 멀티테넌트 SSL 자동화하기"}],["$","meta","11",{"name":"twitter:description","content":"On-Demand TLS로 커스텀 도메인 인증서를 자동 발급하는 멀티테넌트 리버스 프록시 구축기"}]]
15:[["$","h1",null,{"id":"caddy로-멀티테넌트-ssl-자동화하기","children":"Caddy로 멀티테넌트 SSL 자동화하기","className":"text-4xl font-bold mt-10 mb-5 text-foreground"}],"\n",["$","h2",null,{"id":"caddy와-on-demand-tls","children":"Caddy와 On-Demand TLS","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}],"\n",["$","p",null,{"children":["Caddy는 Go로 작성된 웹 서버로, ",["$","strong",null,{"children":"자동 HTTPS","className":"font-semibold text-foreground"}],"를 최초로 기본 내장한 웹 서버다. Let's Encrypt 공개 이전부터 ACME(Automatic Certificate Management Environment) 프로토콜을 사용해왔으며, 내장 ACME 클라이언트의 안정성과 프로덕션 경험은 현존하는 통합 솔루션 중 가장 풍부하다."],"className":"my-5 leading-7 text-foreground/90"}],"\n",["$","p",null,{"children":["Caddy의 핵심 기능 중 하나인 ",["$","strong",null,{"children":"On-Demand TLS","className":"font-semibold text-foreground"}],"는 설정 파일에 도메인을 미리 등록하지 않아도, TLS 핸드셰이크 시점에 인증서를 동적으로 발급하는 기술이다. 새로운 도메인으로 첫 HTTPS 요청이 들어오면 핸드셰이크를 잠시 보류하고, 검증 API(",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"ask"}]}]}]}]," 엔드포인트)를 호출하여 허용 여부를 확인한 뒤 인증서를 자동 발급한다. 이 기능 덕분에 수만 개의 도메인을 동적으로 관리할 수 있어, 멀티테넌트 SaaS의 커스텀 도메인 지원에 적합하다."],"className":"my-5 leading-7 text-foreground/90"}],"\n",["$","div",null,{"className":"my-8 overflow-x-auto bg-card rounded-lg border border-border","children":["$","table",null,{"className":"w-full border-collapse","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"기능","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}],["$","th",null,{"children":"Caddy","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}],["$","th",null,{"children":"Nginx + certbot","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}]]}],"className":"bg-muted"}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"HTTPS","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"기본 제공 (Let's Encrypt/ZeroSSL)","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"수동 설정 (certbot 별도 설치)","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"인증서 갱신","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"자동 (만료 30일 전)","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"크론잡 필요","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"동적 도메인","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"On-Demand TLS (핸드셰이크 시점 발급)","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"설정 수정 + reload 필요","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"ACME 챌린지","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"HTTP, TLS-ALPN, DNS 모두 지원","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"HTTP만 기본, DNS는 별도 플러그인","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],"$L17"]}]]}]}],"\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b","\n","$L2c","\n","$L2d","\n","$L2e","\n","$L2f","\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43"]
44:I[463508,["/_next/static/chunks/34f9db3e742712f8.js","/_next/static/chunks/66231d519a3a670e.js","/_next/static/chunks/b59c211883e2cc85.js","/_next/static/chunks/62ae5b2571fdfa58.js","/_next/static/chunks/808ed0f189237446.js","/_next/static/chunks/d20696d588f50da6.js","/_next/static/chunks/0e1982b1a6cbd127.js","/_next/static/chunks/2d4c0fd06ca34510.js","/_next/static/chunks/ca3512025a981c82.js","/_next/static/chunks/3d8db013779f38f4.js","/_next/static/chunks/e63644fc036e8e8f.js"],"Mermaid"]
17:["$","tr",null,{"children":[["$","td",null,{"children":"OCSP Stapling","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"자동","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"수동 설정","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}]
18:["$","p",null,{"children":"이 글에서는 Caddy의 On-Demand TLS를 활용하여 멀티테넌트 플랫폼에서 경로/서브도메인/커스텀 도메인 3가지 방식의 SSL을 하나의 Caddyfile로 자동화한 과정을 정리한다.","className":"my-5 leading-7 text-foreground/90"}]
19:["$","h2",null,{"id":"배경","children":"배경","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
1a:["$","p",null,{"children":"멀티테넌트 스토어 플랫폼에서 3가지 도메인 방식을 지원해야 했다.","className":"my-5 leading-7 text-foreground/90"}]
1b:["$","div",null,{"className":"my-8 overflow-x-auto bg-card rounded-lg border border-border","children":["$","table",null,{"className":"w-full border-collapse","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"방식","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}],["$","th",null,{"children":"예시","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}],["$","th",null,{"children":"SSL 인증서","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}]]}],"className":"bg-muted"}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"경로","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"store.example.com/acme"}]}]}]}],"className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"단일 인증서","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"서브도메인","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"acme.mystore.app"}]}]}]}],"className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"와일드카드 인증서","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"커스텀 도메인","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"shop.acme.com"}]}]}]}],"className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"개별 인증서 (동적)","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}]]}]]}]}]
1c:["$","p",null,{"children":"핵심 문제는 커스텀 도메인이다. 테넌트가 언제든 자신의 도메인을 연결할 수 있어야 하고, SSL 인증서가 자동으로 발급·갱신되어야 한다. Nginx + certbot 조합으로는 새 도메인을 추가할 때마다 설정 파일을 수정하고 reload해야 하는 번거로움이 있었다.","className":"my-5 leading-7 text-foreground/90"}]
1d:["$","h2",null,{"id":"왜-caddy인가","children":"왜 Caddy인가","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
1e:["$","div",null,{"className":"my-8 overflow-x-auto bg-card rounded-lg border border-border","children":["$","table",null,{"className":"w-full border-collapse","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"기능","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}],["$","th",null,{"children":"Caddy","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}],["$","th",null,{"children":"Nginx","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}]]}],"className":"bg-muted"}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"HTTPS","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"기본 제공 (Let's Encrypt)","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"수동 설정 (certbot)","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"인증서 갱신","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"자동","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"크론잡 필요","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"동적 도메인 추가","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"API로 즉시 반영","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"설정 수정 + reload","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"설정 복잡도","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"간단","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"복잡","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}]]}]]}]}]
1f:["$","p",null,{"children":["Caddy의 ",["$","strong",null,{"children":"On-Demand TLS","className":"font-semibold text-foreground"}],"가 결정적이었다. 설정 파일 수정 없이, 새로운 도메인으로 요청이 들어오면 검증 API를 호출하고 통과하면 자동으로 인증서를 발급한다."],"className":"my-5 leading-7 text-foreground/90"}]
20:["$","h2",null,{"id":"아키텍처","children":"아키텍처","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
21:["$","$L44",null,{"chart":"flowchart TD\n  User[사용자] -->|&quot;store.example.com/acme (경로)\\nacme.mystore.app (서브도메인)\\nshop.acme.com (커스텀 도메인)&quot;| Caddy\n\n  Caddy[&quot;Caddy — 443 (HTTPS)\\n경로: 단일 인증서\\n서브도메인: 와일드카드\\n커스텀 도메인: On-Demand TLS&quot;] --> Next[&quot;Next.js 앱 — 4033 (내부)\\nHost 헤더 + 경로로 테넌트 식별&quot;]\n\n  Next --> DB[Database]"}]
22:["$","h2",null,{"id":"caddyfile-설정","children":"Caddyfile 설정","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
23:["$","h3",null,{"id":"글로벌-설정-on-demand-tls","children":"글로벌 설정: On-Demand TLS","className":"text-2xl font-semibold mt-8 mb-3 text-foreground"}]
24:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"caddyfile","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"caddyfile","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"children":"{"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    on_demand_tls {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"        ask http://localhost:4033/api/caddy/check-domain"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    }"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"}"}]}]]}]}],"className":"not-prose my-6"}]
25:["$","p",null,{"children":[["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"ask"}]}]}]}]," 디렉티브가 핵심이다. 새로운 도메인으로 HTTPS 요청이 들어올 때마다, Caddy가 이 URL을 호출하여 인증서를 발급해도 되는지 확인한다."],"className":"my-5 leading-7 text-foreground/90"}]
26:["$","h3",null,{"id":"도메인별-블록","children":"도메인별 블록","className":"text-2xl font-semibold mt-8 mb-3 text-foreground"}]
27:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"caddyfile","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"caddyfile","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"children":"# 1. 경로 방식 — 단일 인증서"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"store.example.com {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    reverse_proxy localhost:4033"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"}"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"# 2. 서브도메인 방식 — On-Demand TLS"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"*.mystore.app {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    tls {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"        on_demand"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    }"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    reverse_proxy localhost:4033"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"}"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"# 3. 커스텀 도메인 방식 — On-Demand TLS"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":":443 {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    tls {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"        on_demand"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    }"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    reverse_proxy localhost:4033"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"}"}]}]]}]}],"className":"not-prose my-6"}]
28:["$","p",null,{"children":[["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":":443"}]}]}]}]," 블록은 위의 어떤 도메인에도 매칭되지 않는 모든 HTTPS 요청을 잡아낸다. ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"on_demand_tls"}]}]}]}],"의 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"ask"}]}]}]}]," API가 검증을 통과한 도메인만 인증서가 발급된다."],"className":"my-5 leading-7 text-foreground/90"}]
29:["$","h3",null,{"id":"보안-헤더","children":"보안 헤더","className":"text-2xl font-semibold mt-8 mb-3 text-foreground"}]
2a:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"caddyfile","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"caddyfile","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"children":"(security_headers) {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    @forbidden {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"        path *.env* *.bak *.php.bak *.sql *.log *.ini"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"        path /storage/* /artisan /config/* /var/log/*"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"        path /.git* /.htaccess /.htpasswd"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    }"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    respond @forbidden \"Access Denied\" 403"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"}"}]}]]}]}],"className":"not-prose my-6"}]
2b:["$","h2",null,{"id":"도메인-검증-api","children":"도메인 검증 API","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
2c:["$","p",null,{"children":"Caddy가 인증서 발급 전에 호출하는 검증 엔드포인트다.","className":"my-5 leading-7 text-foreground/90"}]
2d:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"plaintext","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"children":"GET /api/caddy/check-domain?domain=shop.acme.com"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"200 OK     → 인증서 발급 허용 (DB에 해당 도메인의 테넌트 존재)"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"404 Not Found → 인증서 발급 거부"}]}]]}]}],"className":"not-prose my-6"}]
2e:["$","p",null,{"children":["DB에서 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"Tenant.domain"}]}]}]}],"이나 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"Tenant.tenantName"}]}]}]}],"으로 해당 도메인을 사용하는 테넌트가 있는지 확인한다. 없으면 404를 반환하여 인증서 발급을 차단한다. 이렇게 하면 악의적인 도메인으로 인증서가 남발되는 것을 방지할 수 있다."],"className":"my-5 leading-7 text-foreground/90"}]
2f:["$","h2",null,{"id":"nextjs-proxyts에서-도메인-라우팅","children":"Next.js proxy.ts에서 도메인 라우팅","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
30:["$","p",null,{"children":["Next.js 16에서는 기존 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"middleware.ts"}]}]}]}],"가 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"proxy.ts"}]}]}]}],"로 변경되었다. 여기서 서브도메인과 커스텀 도메인 요청을 경로 기반으로 rewrite한다."],"className":"my-5 leading-7 text-foreground/90"}]
31:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"typescript","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"// proxy.ts (Next.js 16)"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"export"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" proxy"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"--shiki-dark":"#FFAB70","--shiki-light":"#E36209"},"children":"request"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":":"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" Request"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":") {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" host"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" request.headers."}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"host\""}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" url"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" new"}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":" URL"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"(request.url);"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"  // 서브도메인 방식: acme.mystore.app → /acme/..."}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"  for"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" ("}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"const"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" subdomainHost"}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" of"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" SUBDOMAIN_HOSTS"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":") {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"    if"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" (host?."}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"endsWith"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":"`.${"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"subdomainHost"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":"}`"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":")) {"}]]}],"\n",["$","span",null,{"data-line":"","children":["$L45","$L46","$L47","$L48","$L49","$L4a","$L4b","$L4c","$L4d","$L4e","$L4f","$L50"]}],"\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58"]}]}],"className":"not-prose my-6"}]
32:["$","p",null,{"children":["이렇게 하면 애플리케이션 내부에서는 항상 ",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"app/[tenant]/..."}]}]}]}]," 라우트로 통일되어 처리된다."],"className":"my-5 leading-7 text-foreground/90"}]
33:["$","h2",null,{"id":"와일드카드-인증서-cloudflare-dns-연동","children":"와일드카드 인증서: Cloudflare DNS 연동","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
34:["$","p",null,{"children":["서브도메인 방식(",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"*.mystore.app"}]}]}]}],")에 와일드카드 인증서가 필요하면, DNS 챌린지를 위해 Cloudflare DNS 플러그인을 포함한 Caddy를 빌드해야 한다."],"className":"my-5 leading-7 text-foreground/90"}]
35:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"bash","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"bash","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"# xcaddy로 Cloudflare 플러그인 포함 빌드"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"go"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" install"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" github.com/caddyserver/xcaddy/cmd/xcaddy@latest"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"xcaddy"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" build"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" --with"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" github.com/caddy-dns/cloudflare"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"sudo"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" mv"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" caddy"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" /usr/bin/caddy"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"sudo"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" systemctl"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" restart"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" caddy"}]]}]]}]}],"className":"not-prose my-6"}]
36:["$","p",null,{"children":"Caddyfile에서 Cloudflare DNS 프로바이더를 설정한다.","className":"my-5 leading-7 text-foreground/90"}]
37:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"caddyfile","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"caddyfile","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"children":"*.mystore.app {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    tls {"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"        dns cloudflare {env.CF_API_TOKEN}"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    }"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"    reverse_proxy localhost:4033"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"}"}]}]]}]}],"className":"not-prose my-6"}]
38:["$","p",null,{"children":"Cloudflare API 토큰은 systemd 서비스에 환경변수로 주입한다.","className":"my-5 leading-7 text-foreground/90"}]
39:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"bash","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"bash","data-theme":"github-dark github-light","style":{"display":"grid"},"children":["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"sudo"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" systemctl"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" edit"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" caddy"}]]}]}]}],"className":"not-prose my-6"}]
3a:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"ini","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"ini","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"[Service]"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"Environment"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"="}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"CF_API_TOKEN=your-cloudflare-api-token\""}]]}]]}]}],"className":"not-prose my-6"}]
3b:["$","h2",null,{"id":"배포-pm2--systemd","children":"배포: PM2 + systemd","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
3c:["$","p",null,{"children":"단일 서버 환경에서는 Docker 없이 Caddy(systemd) + Node.js(PM2) 조합이 간단하다.","className":"my-5 leading-7 text-foreground/90"}]
3d:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"bash","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"bash","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"# Caddy 설치 (Ubuntu/Debian)"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"sudo"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" apt"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" install"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" caddy"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"# Node.js 앱 시작"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"pm2"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" start"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" pnpm"}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" --name"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" \"dps-store\""}],["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" --"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" start"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"pm2"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" startup"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" && "}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"pm2"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" save"}]]}]]}]}],"className":"not-prose my-6"}]
3e:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"tabIndex":"0","data-language":"plaintext","data-theme":"github-dark github-light","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"children":"/etc/caddy/Caddyfile                  ← Caddy 설정"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"/var/lib/caddy/.local/share/caddy/    ← SSL 인증서 (자동 관리)"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"children":"/home/ubuntu/dps-store/               ← Next.js 앱"}]}]]}]}],"className":"not-prose my-6"}]
3f:["$","h2",null,{"id":"주의사항","children":"주의사항","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
40:["$","div",null,{"className":"my-8 overflow-x-auto bg-card rounded-lg border border-border","children":["$","table",null,{"className":"w-full border-collapse","children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"항목","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}],["$","th",null,{"children":"내용","className":"border-b border-r border-border px-4 py-2 text-left font-semibold last:border-r-0"}]]}],"className":"bg-muted"}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"Rate Limit","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"Let's Encrypt는 주당 50개 인증서 발급 제한. 커스텀 도메인에만 해당","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"도메인 검증","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":[["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"check-domain"}]}]}]}]," API 필수. 없으면 아무 도메인이나 인증서 발급 시도"],"className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"인증서 저장","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"Caddy 데이터 디렉토리 영구 보존 필수 (삭제 시 재발급 필요)","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"DNS 전파","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}],["$","td",null,{"children":"새 도메인 네임서버 변경 시 최대 48시간 소요","className":"border-b border-r border-border px-4 py-2 last:border-r-0 [tr:last-child_&]:border-b-0"}]]}]]}]]}]}]
41:["$","h2",null,{"id":"마무리","children":"마무리","className":"text-3xl font-semibold mt-9 mb-4 text-foreground border-b border-border pb-2"}]
42:["$","p",null,{"children":["Caddy의 On-Demand TLS 덕분에 코드 한 줄 수정 없이 커스텀 도메인을 동적으로 추가할 수 있게 되었다. 핵심은 검증 API(",["$","span",null,{"data-rehype-pretty-code-figure":"","children":["$","code",null,{"data-language":"plaintext","data-theme":"github-dark github-light","style":{"--shiki-dark":"#e1e4e8","--shiki-light":"#24292e","--shiki-dark-bg":"#24292e","--shiki-light-bg":"#fff"},"children":["$","span",null,{"data-line":"","children":["$","span",null,{"children":"/api/caddy/check-domain"}]}]}]}],")를 통해 인증서 발급 대상을 통제하는 것이다."],"className":"my-5 leading-7 text-foreground/90"}]
43:["$","p",null,{"children":"경로/서브도메인/커스텀 도메인 3가지 방식을 하나의 Caddyfile로 처리하는 구성은, Nginx였다면 상당히 복잡했을 것이다. 멀티테넌트 SaaS를 구축한다면 Caddy + On-Demand TLS 조합을 추천한다.","className":"my-5 leading-7 text-foreground/90"}]
45:["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"      const"}]
46:["$","span",null,{"style":{"--shiki-dark":"#79B8FF","--shiki-light":"#005CC5"},"children":" tenantName"}]
47:["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":" ="}]
48:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" host."}]
49:["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"replace"}]
4a:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"("}]
4b:["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":"`.${"}]
4c:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"subdomainHost"}]
4d:["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":"}`"}]
4e:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":", "}]
4f:["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":"\"\""}]
50:["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":");"}]
51:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"      url.pathname "}],["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"="}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":" `/${"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"tenantName"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":"}${"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"url"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":"."}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"pathname"}],["$","span",null,{"style":{"--shiki-dark":"#9ECBFF","--shiki-light":"#032F62"},"children":"}`"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":";"}]]}]
52:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"--shiki-dark":"#F97583","--shiki-light":"#D73A49"},"children":"      return"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":" NextResponse."}],["$","span",null,{"style":{"--shiki-dark":"#B392F0","--shiki-light":"#6F42C1"},"children":"rewrite"}],["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"(url);"}]]}]
53:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"    }"}]}]
54:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"  }"}]}]
55:["$","span",null,{"data-line":"","children":" "}]
56:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"  // 커스텀 도메인 방식: shop.acme.com → DB 조회 → /tenantName/..."}]}]
57:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#6A737D","--shiki-light":"#6A737D"},"children":"  // ..."}]}]
58:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"--shiki-dark":"#E1E4E8","--shiki-light":"#24292E"},"children":"}"}]}]
