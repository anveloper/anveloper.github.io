---
title: "BOJ 1689 - 겹치는 선분"
date: "2024-07-12"
description: "선분의 시작/끝 이벤트를 정렬하여 최대 겹침 수를 스위핑으로 구하는 문제"
tags: ["그리디", "정렬", "스위핑"]
platform: "boj"
problem_number: "1689"
problem_url: "https://www.acmicpc.net/problem/1689"
difficulty: "골드 IV"
language: "python"
---

## 문제

[BOJ 1689 - 겹치는 선분](https://www.acmicpc.net/problem/1689)

> N개의 선분이 수직선 위에 있을 때, 한 점에서 겹치는 선분의 최대 개수를 구한다.

## 풀이

각 선분의 시작점과 끝점을 이벤트로 분리한다. 시작점을 기준으로 정렬하되, 최소 힙에 끝점을 넣어 관리한다. 새 선분이 시작될 때 이미 끝난 선분(끝점 ≤ 현재 시작점)을 제거하고, 힙에 남아 있는 선분 수의 최댓값이 답이다.

## 코드

```python
import sys, heapq

input = sys.stdin.readline
n = int(input())
array = [tuple(map(int, input().split())) for _ in range(n)]
array.sort(key=lambda x: x[0])
min_heap = []
heapq.heappush(min_heap, array[0][1])
result = 1
for x in array[1:]:
    while min_heap and min_heap[0] <= x[0]:
        heapq.heappop(min_heap)
    heapq.heappush(min_heap, x[1])
    result = max(result, len(min_heap))

print(result)
```

## 복잡도

- 시간: O(N * log N)
- 공간: O(N)
