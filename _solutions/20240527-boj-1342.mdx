---
title: "BOJ 1342 - 행운의 문자열"
date: "2024-05-27"
description: "인접한 문자가 같지 않은 순열의 개수를 구하는 백트래킹 문제"
tags: ["브루트포스", "백트래킹"]
platform: "boj"
problem_number: "1342"
problem_url: "https://www.acmicpc.net/problem/1342"
difficulty: "실버 I"
language: "python"
---

## 문제

[BOJ 1342 - 행운의 문자열](https://www.acmicpc.net/problem/1342)

> 문자열의 모든 순열 중 인접한 두 문자가 같지 않은 경우의 수를 구한다.

## 풀이

itertools.permutations로 모든 순열을 생성한 뒤 중복을 제거하고, 각 순열에서 인접한 문자가 같은 경우를 제외하여 카운트한다. 문자열 길이가 10이고 문자 종류가 10 또는 9인 특수한 경우는 하드코딩으로 처리하여 시간을 절약한다.

## 코드

```python
import itertools

a = list(input())
count = 0
if len(a) == 1:
    print(1)
elif len(a) == 2:
    if a[0] == a[1]:
        print(0)
    else:
        print(2)
elif len(a) == 10 and len(set(a)) == 10:
    print(3628800)
elif len(a) == 10 and len(set(a)) == 9:
    print(1451520)
else:
    b = itertools.permutations(a)
    b = list(map(list, set(map(tuple, b))))
    for array in b:
        for x in range(1, len(a) - 1):
            if array[x - 1] == array[x] or array[x] == array[x + 1]:
                count += 1
                break
    print(len(b) - count)
```

## 복잡도

- 시간: O(N! * N) (N은 문자열 길이, 최대 10)
- 공간: O(N!)
