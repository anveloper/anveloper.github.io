---
title: "BOJ 1407 - 2로 몇 번 나누어질까"
date: "2024-06-13"
description: "A부터 B까지 각 수를 2로 나눌 수 있는 최대 횟수의 합을 수학적으로 구하는 문제"
tags: ["수학"]
platform: "boj"
problem_number: "1407"
problem_url: "https://www.acmicpc.net/problem/1407"
difficulty: "골드 IV"
language: "python"
---

## 문제

[BOJ 1407 - 2로 몇 번 나누어질까](https://www.acmicpc.net/problem/1407)

> A부터 B까지의 모든 수에 대해 f(x) = x를 2로 나눌 수 없을 때까지 나눈 결과의 합을 구한다.

## 풀이

1부터 N까지 f(x)의 합을 구하는 공식을 유도한다. f(x)에서 홀수는 자기 자신, 짝수는 2로 나눈 뒤 재귀적으로 적용된다. 2^i의 배수 개수에 2^(i-1)을 곱하여 누적하면 구간 합을 O(log N)에 계산할 수 있다. [A, B] 구간은 [1, B] - [1, A-1]로 분리한다.

## 코드

```python
A, B = map(int, input().split())
A -= 1
a = A
for i in range(1, 50):
    a += (A // 2**i) * (2 ** (i - 1))

b = B
for i in range(1, 50):
    b += (B // 2**i) * (2 ** (i - 1))

print(b - a)
```

## 복잡도

- 시간: O(log B)
- 공간: O(1)
