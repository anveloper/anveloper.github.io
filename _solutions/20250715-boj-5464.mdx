---
title: "BOJ 5464 - 주차장"
date: "2025-07-15"
description: "구현, 자료 구조, 시뮬레이션 문제"
tags: ["구현", "자료 구조", "시뮬레이션", "우선순위 큐", "큐"]
platform: "boj"
problem_number: "5464"
problem_url: "https://www.acmicpc.net/problem/5464"
difficulty: "실버 II"
language: "python"
---

## 문제

[BOJ 5464 - 주차장](https://www.acmicpc.net/problem/5464)

## 풀이

우선순위 큐를 활용하여 효율적으로 처리한다.

## 코드

```python
import sys
from collections import deque

input = sys.stdin.readline

N, M = map(int, input().split())
parking_rates = [int(input()) for _ in range(N)]
car_weights = [int(input()) for _ in range(M)]

parking_lot = [None] * N

car_location = {}

waiting = deque()

total_income = 0

for _ in range(2 * M):
    event = int(input())
    if event > 0:
        car_num = event - 1
        parked = False

        for i in range(N):
            if parking_lot[i] is None:
                parking_lot[i] = car_num
                car_location[car_num] = i
                total_income += car_weights[car_num] * parking_rates[i]
                parked = True
                break

        if not parked:
            waiting.append(car_num)

    else:
        car_num = -event - 1
        lot_index = car_location[car_num]
        parking_lot[lot_index] = None

        if waiting:
            next_car = waiting.popleft()
            parking_lot[lot_index] = next_car
            car_location[next_car] = lot_index
            total_income += car_weights[next_car] * parking_rates[lot_index]

print(total_income)
```

## 복잡도

- 시간: O(N)
- 공간: O(N)
