---
title: "BOJ 14267 - 회사 문화 1"
date: "2023-07-31"
description: "다이나믹 프로그래밍, 그래프 이론, 그래프 탐색 문제"
tags: ["다이나믹 프로그래밍", "그래프 이론", "그래프 탐색", "트리", "깊이 우선 탐색", "트리에서의 다이나믹 프로그래밍"]
platform: "boj"
problem_number: "14267"
problem_url: "https://www.acmicpc.net/problem/14267"
difficulty: "골드 IV"
language: "java"
---

## 문제

[BOJ 14267 - 회사 문화 1](https://www.acmicpc.net/problem/14267)

## 풀이

다이나믹 프로그래밍을 사용하여 부분 문제의 해를 메모이제이션하며 풀이한다. 그래프 탐색(BFS/DFS)을 활용하여 탐색한다.

## 코드

```java
package day549;

import java.io.*;
import java.util.*;

public class Day540BOJ14267회사문화1 {

  static List<Integer>[] list;
  static int[] wv;

  public static void main(String[] args) throws Exception {
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
    StringTokenizer st = new StringTokenizer(br.readLine());

    int n = Integer.parseInt(st.nextToken());
    int m = Integer.parseInt(st.nextToken());

    list = new ArrayList[n + 1];
    for (int i = 1; i < n + 1; i++) {
      list[i] = new ArrayList<>();
    }

    st = new StringTokenizer(br.readLine());
    for (int a = 1; a < n + 1; a++) {
      int b = Integer.parseInt(st.nextToken());
      if (b != -1) {
        list[b].add(a);
      }
    }

    wv = new int[n + 1];
    for (int i = 0; i < m; i++) {
      st = new StringTokenizer(br.readLine());
      int man = Integer.parseInt(st.nextToken());
      int w = Integer.parseInt(st.nextToken());
      wv[man] += w;

    }
    dfs(1);
    for (int i = 1; i < n + 1; i++) {
      System.out.print(wv[i] + " ");
    }
  }

  static void dfs(int idx) {
    for (int nxt : list[idx]) {
      wv[nxt] += wv[idx];
      dfs(nxt);
    }
  }
}
```

## 복잡도

- 시간: O(N)
- 공간: O(N)
