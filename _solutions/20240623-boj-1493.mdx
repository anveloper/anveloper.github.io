---
title: "BOJ 1493 - 박스 채우기"
date: "2024-06-23"
description: "큰 큐브부터 그리디하게 채워서 박스를 가득 채우는 최소 큐브 수를 구하는 문제"
tags: ["수학", "그리디", "분할 정복"]
platform: "boj"
problem_number: "1493"
problem_url: "https://www.acmicpc.net/problem/1493"
difficulty: "골드 II"
language: "python"
---

## 문제

[BOJ 1493 - 박스 채우기](https://www.acmicpc.net/problem/1493)

> L x W x H 크기의 박스를 2^i 크기의 큐브로 빈틈없이 채울 때 필요한 최소 큐브 수를 구한다.

## 풀이

가장 큰 큐브부터 그리디하게 채운다. 각 크기별로 박스에 들어갈 수 있는 최대 큐브 수를 계산하고, 이전에 채운 작은 단위의 부피를 8배하여 현재 단위로 환산한다. 가용 개수와 보유 개수 중 최솟값만큼 채운 뒤, 최종적으로 총 부피가 일치하면 답을 출력하고 아니면 -1을 출력한다.

## 코드

```python
import sys

input = sys.stdin.readline

l, w, h = map(int, input().split())
total_v = l * w * h
n = int(input())
cubes = []
for i in range(n):
    s, count = map(int, input().split())
    s = 2**s
    cubes.append([s * s * s, s, count])


cur_v = 0
ans = 0
cubes.sort(reverse=True)
for v, s, c in cubes:

    cur_v *= 8
    cur_c = (l // s) * (w // s) * (h // s) - cur_v
    cur_c = min(cur_c, c)
    ans += cur_c
    cur_v += cur_c

if cur_v == total_v:
    print(ans)
else:
    print(-1)
```

## 복잡도

- 시간: O(N log N)
- 공간: O(N)
