---
title: "BOJ 1029 - 그림 교환"
date: "2022-08-19"
description: "다이나믹 프로그래밍, 비트마스킹, 비트필드를 이용한 다이나믹 프로그래밍 문제"
tags: ["다이나믹 프로그래밍", "비트마스킹", "비트필드를 이용한 다이나믹 프로그래밍"]
platform: "boj"
problem_number: "1029"
problem_url: "https://www.acmicpc.net/problem/1029"
difficulty: "골드 I"
language: "java"
---

## 문제

[BOJ 1029 - 그림 교환](https://www.acmicpc.net/problem/1029)

## 풀이

다이나믹 프로그래밍을 사용하여 부분 문제의 해를 메모이제이션하며 풀이한다.

## 코드

```java
package com.ssafy.an.day199;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;

public class Day193BOJ1029그림교환DP {
	static int N, dp[][][];
	static char[][] map;

	public static void main(String[] args) throws NumberFormatException, IOException {
		BufferedReader in = new BufferedReader(new InputStreamReader(System.in));
		N = Integer.parseInt(in.readLine());
		map = new char[N][];
		dp = new int[1 << N][N][10];

		for (int i = 0; i < N; i++)
			map[i] = in.readLine().toCharArray();

		System.out.print(sol(1, 0, 0));

	}

	private static int sol(int bit, int curr, int prev) {
		if (dp[bit][curr][prev] != 0)
			return dp[bit][curr][prev];

		for (int i = 1; i < N; i++)
			if ((bit & (1 << i)) == 0 && map[curr][i] - '0' >= prev)
				dp[bit][curr][prev] = Math.max(dp[bit][curr][prev], sol(bit | (1 << i), i, map[curr][i] - '0'));

		return ++dp[bit][curr][prev];
	}

}
```

## 복잡도

- 시간: O(N × 2^N)
- 공간: O(N × 2^N)
