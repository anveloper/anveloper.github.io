---
title: "BOJ 1379 - 강의실 2"
date: "2024-05-25"
description: "강의 시간표가 주어졌을 때 필요한 최소 강의실 수와 각 강의의 배정 강의실을 구하는 문제"
tags: ["자료 구조", "그리디", "정렬", "우선순위 큐"]
platform: "boj"
problem_number: "1379"
problem_url: "https://www.acmicpc.net/problem/1379"
difficulty: "골드 III"
language: "python"
---

## 문제

[BOJ 1379 - 강의실 2](https://www.acmicpc.net/problem/1379)

> K개의 강의에 대해 필요한 최소 강의실 수를 구하고, 각 강의가 어느 강의실에 배정되는지 출력한다.

## 풀이

강의를 시작 시간 기준으로 정렬한 뒤, 우선순위 큐(최소 힙)를 사용해 가장 빨리 끝나는 강의실을 관리한다. 새 강의의 시작 시간이 힙 최솟값(가장 빨리 끝나는 시간) 이상이면 해당 강의실을 재사용하고, 아니면 새 강의실을 배정한다.

## 코드

```python
import sys
import heapq

input = sys.stdin.readline


def greedy(lecture, room):
    hq = []
    start, end, lecture_num = lecture[0]
    cnt = 1
    room[lecture_num] = cnt
    heapq.heappush(hq, (end, cnt, lecture_num))
    for i in range(1, K):
        start, end, lecture_num = lecture[i]
        min_end, min_room, min_lecture = heapq.heappop(hq)

        if start >= min_end:
            room[lecture_num] = min_room
            heapq.heappush(hq, (end, min_room, lecture_num))
        else:
            cnt += 1
            room[lecture_num] = cnt
            heapq.heappush(hq, (end, cnt, lecture_num))
            heapq.heappush(hq, (min_end, min_room, min_lecture))

    return cnt, room


K = int(input())

lecture = []
room = [0] * (K + 1)
for _ in range(K):
    number, start, end = map(int, input().split())
    lecture.append((start, end, number))

lecture.sort()
room_cnt, room = greedy(lecture, room)

print(room_cnt)
for i in range(1, K + 1):
    print(room[i])
```

## 복잡도

- 시간: O(K log K)
- 공간: O(K)
