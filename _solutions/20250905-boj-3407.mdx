---
title: "BOJ 3407 - 맹세"
date: "2025-09-05"
description: "다이나믹 프로그래밍, 그래프 이론, 문자열 문제"
tags: ["다이나믹 프로그래밍", "그래프 이론", "문자열", "브루트포스 알고리즘", "그래프 탐색"]
platform: "boj"
problem_number: "3407"
problem_url: "https://www.acmicpc.net/problem/3407"
difficulty: "실버 I"
language: "cpp"
---

## 문제

[BOJ 3407 - 맹세](https://www.acmicpc.net/problem/3407)

## 풀이

다이나믹 프로그래밍을 사용하여 부분 문제의 해를 메모이제이션하며 풀이한다. 그래프 탐색(BFS/DFS)을 활용하여 탐색한다.

## 코드

```cpp
#include <iostream>
#include <string>
#include <unordered_set>
#include <vector>

using namespace std;

unordered_set<string> element = {
    "h", "he", "li", "be", "b", "c", "n", "o", "f", "ne",
    "na", "mg", "al", "si", "p", "s", "cl", "ar", "k", "ca",
    "sc", "ti", "v", "cr", "mn", "fe", "co", "ni", "cu", "zn",
    "ga", "ge", "as", "se", "br", "kr", "rb", "sr", "y", "zr",
    "nb", "mo", "tc", "ru", "rh", "pd", "ag", "cd", "in", "sn",
    "sb", "te", "i", "xe", "cs", "ba", "la", "ce", "pr", "nd",
    "pm", "sm", "eu", "gd", "tb", "dy", "ho", "er", "tm", "yb",
    "lu", "hf", "ta", "w", "re", "os", "ir", "pt", "au", "hg",
    "tl", "pb", "bi", "po", "at", "rn", "fr", "ra", "ac", "th",
    "pa", "u", "np", "pu", "am", "cm", "bk", "cf", "es", "fm",
    "md", "no", "lr", "rf", "db", "sg", "bh", "hs", "mt", "ds",
    "rg", "cn", "fl", "lv"};
vector<int> memo;

bool oath(string &s, int idx)
{
  if (idx == s.size())
    return true;
  if (memo[idx] != -1)
    return memo[idx];

  string one = s.substr(idx, 1);
  if (element.find(one) != element.end())
    if (oath(s, idx + 1))
      return memo[idx] = 1;

  if (idx + 1 < s.size())
  {
    string two = s.substr(idx, 2);
    if (element.find(two) != element.end())
      if (oath(s, idx + 2))
        return memo[idx] = 1;
  }

  return memo[idx] = 0;
}

int main()
{
  ios_base::sync_with_stdio(false);
  cin.tie(nullptr);

  int T;
  bool chk = true;
  string s, temp;

  cin >> T;
  while (T--)
  {
    cin >> s;
    memo.resize(s.size(), -1);
    if (oath(s, 0))
      cout << "YES\n";
    else
      cout << "NO\n";
    memo.clear();
  }

  return 0;
}
```

## 복잡도

- 시간: O(N²)
- 공간: O(N)
