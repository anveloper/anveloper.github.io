---
title: "BOJ 1563 - 개근상"
date: "2024-06-26"
description: "지각과 결석 조건을 만족하는 출석 경우의 수를 DP로 구하는 문제"
tags: ["DP"]
platform: "boj"
problem_number: "1563"
problem_url: "https://www.acmicpc.net/problem/1563"
difficulty: "골드 IV"
language: "python"
---

## 문제

[BOJ 1563 - 개근상](https://www.acmicpc.net/problem/1563)

> N일 동안 지각 1회 이하, 연속 결석 2일 이하인 출석 기록의 경우의 수를 구한다.

## 풀이

3차원 DP를 사용한다. `dp[i][j][k]`에서 i는 날짜, j는 지각 횟수(0 또는 1), k는 연속 결석 일수(0, 1, 2)이다. 출석하면 연속 결석이 0으로 초기화되고, 지각하면 지각 횟수가 1 증가하며 연속 결석 초기화, 결석하면 연속 결석이 1 증가한다. N일째 모든 유효한 상태의 합을 1,000,000으로 나눈 나머지를 출력한다.

## 코드

```python
MOD = 1000000
n = int(input())
dp = [[[0 for _ in range(3)] for _ in range(2)] for _ in range(n + 1)]  # i, 지각, 결석
dp[1][0][0] = dp[1][1][0] = dp[1][0][1] = 1
for i in range(2, n + 1):
    dp[i][0][0] = sum(dp[i - 1][0]) % MOD
    dp[i][1][0] = sum(dp[i - 1][0]) % MOD + sum(dp[i - 1][1]) % MOD
    dp[i][0][1] = dp[i - 1][0][0] % MOD
    dp[i][1][1] = dp[i - 1][1][0] % MOD
    dp[i][0][2] = dp[i - 1][0][1] % MOD
    dp[i][1][2] = dp[i - 1][1][1] % MOD

print((sum(dp[n][0]) + sum(dp[n][1])) % MOD)
```

## 복잡도

- 시간: O(N)
- 공간: O(N)
